<!DOCTYPE html>
<html lang="en">
<head>
<title>Character Counter | GoToolOnline</title>
<meta charset="utf-8"/>
<meta name="description" content="Count characters (graphemes/emoji), words, sentences, lines, paragraphs, and UTF-8 bytes. Selection stats, reading time, multi-language. All offline."/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><text x='6' y='52' font-size='48'>ğŸ› ï¸</text></svg>"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>
<style>
  :root { --bg:#0a0f1e; --card:#0f1830; --muted:#9fb0c3; --fg:#eaf3ff; --acc:#4fb3ff; --ok:#61d095; --warn:#ffb86b; }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg);}
  header{max-width:1200px;margin:24px auto 8px;display:flex;gap:14px;align-items:center;padding:0 18px;}
  header a.logo{display:flex;gap:10px;align-items:center;text-decoration:none;color:var(--fg);font-weight:800;font-size:24px}
  header a.navbtn{margin-left:auto;padding:10px 14px;background:#0f1a2f;border:1px solid #24365b;border-radius:12px;color:#eaf3ff;text-decoration:none;font-size:16px}
  header a.navbtn:hover{border-color:#4fb3ff;box-shadow:0 0 0 3px rgba(79,179,255,.18)}
  select.lang{padding:8px 12px;border-radius:12px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff}
  main{max-width:1200px;margin:10px auto 72px;padding:0 18px}
  h1{font-size:34px;margin:10px 0 10px}
  p,.muted,label{font-size:18px;line-height:1.6}
  .card{background:#0f1830;border:1px solid #1a2843;border-radius:20px;padding:20px;margin:16px 0}
  textarea,input,select,button{width:100%;padding:14px;border-radius:12px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff;font-size:16px}
  textarea{min-height:220px;resize:vertical}
  button{cursor:pointer;background:linear-gradient(180deg,#2a78ff,#0050d4);border:none;font-weight:800}
  button.ghost{background:#0f1a2f;border:1px solid #2a3d67}
  button:hover{filter:brightness(1.06)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
  .stat{background:#0c1426;border:1px dashed #2a3c64;border-radius:12px;padding:12px}
  .stat .k{font-size:14px;color:#9fb0c3}
  .stat .v{font-size:22px;font-weight:900;margin-top:4px}
  .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
  .muted{color:#9fb0c3}
  .note{font-size:14px;color:#9fb0c3}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#0b1226;border:1px solid #2a3c64}
  footer{max-width:1200px;margin:40px auto;padding:0 18px;color:#9fb0c3;font-size:15px}
  .backTop{margin-top:12px;display:inline-block;padding:10px 14px;background:#0f1a2f;border:1px solid #24365b;border-radius:10px;color:#eaf3ff;text-decoration:none}
  .backTop:hover{border-color:#4fb3ff;box-shadow:0 0 0 3px rgba(79,179,255,.18)}
  @media print{ header,footer,.no-print{display:none!important} body{background:#fff;color:#000} .card{border:none} .stat{border-color:#ccc} }
</style>
<script>function backToTop(){ window.scrollTo({top:0,behavior:'smooth'}); }</script>

  
  <link rel="alternate" hreflang="en" href="https://gotoolonline.com/writing/character-counter/"/>
  <link rel="alternate" hreflang="x-default" href="https://gotoolonline.com/writing/character-counter/"/>

<link rel="canonical" href="https://gotoolonline.com/writing/character-counter/">
</head>
<body>
<header>
  <a class="logo" data-home href="#"><span>ğŸ› ï¸</span><strong>GoToolOnline</strong></a>
  <a class="navbtn" data-home href="#" id="back">â† Back to Home</a>
  <select id="lang" class="lang" aria-label="Language">
    <option value="en">English</option>
    <option value="zh">ç®€ä½“ä¸­æ–‡</option>
    <option value="ph">Tagalog</option>
    <option value="id">Bahasa Indonesia</option>
    <option value="vi">Tiáº¿ng Viá»‡t</option>
    <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾</option>
    <option value="ng">English (NG)</option>
    <option value="sw">Kiswahili</option>
    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
  </select>
</header>

<main>
<section class="card">
  <h1 id="title">Character Counter</h1>
  <p class="muted" id="subtitle">Counts grapheme clusters (emoji-aware), words, sentences, lines, paragraphs, and UTF-8 bytes. Everything runs locally.</p>

  <label for="txt" id="lblInput">Your text</label>
  <textarea id="txt" placeholder=""></textarea>

  <div class="row" style="margin-top:10px">
    <button id="paste" class="ghost">Paste</button>
    <button id="copy" class="ghost">Copy</button>
    <button id="clear" class="ghost">Clear</button>
    <button id="download" class="ghost">Download .txt</button>
    <label class="pill"><input id="trim" type="checkbox" style="width:auto;margin-right:8px"> <span id="optTrim">Trim before counting</span></label>
  </div>

  <div class="grid" style="margin-top:12px">
    <div class="stat"><div class="k" id="kChars">Characters (graphemes)</div><div class="v" id="cChars">0</div></div>
    <div class="stat"><div class="k" id="kCharsNoSpace">Characters (no whitespace)</div><div class="v" id="cCharsNoSpace">0</div></div>
    <div class="stat"><div class="k" id="kWords">Words</div><div class="v" id="cWords">0</div></div>
    <div class="stat"><div class="k" id="kSentences">Sentences</div><div class="v" id="cSentences">0</div></div>
    <div class="stat"><div class="k" id="kLines">Lines</div><div class="v" id="cLines">0</div></div>
    <div class="stat"><div class="k" id="kParas">Paragraphs</div><div class="v" id="cParas">0</div></div>
    <div class="stat"><div class="k" id="kBytes">Bytes (UTF-8)</div><div class="v" id="cBytes">0</div></div>
    <div class="stat"><div class="k" id="kSel">Selection â€” chars / words</div><div class="v" id="cSel">0 / 0</div></div>
    <div class="stat"><div class="k" id="kRead">Reading time (approx)</div><div class="v" id="cRead">0s</div></div>
  </div>

  <div class="note" style="margin-top:8px" id="foot">
    Character = <b>grapheme cluster</b> (e.g., ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ counts as 1). Word/sentence counts use <code>Intl.Segmenter</code> when available, with safe fallbacks.
  </div>
</section>

<section class="card">
  <h2 style="margin:0 0 6px 0" id="tipsTitle">Tips</h2>
  <ul class="note" id="tipsList">
    <li>On paste-heavy tasks, enable â€œTrim before countingâ€ to remove leading/trailing whitespace.</li>
    <li>Bytes are UTF-8 encoded length. Emojis/ CJK may use multiple bytes.</li>
    <li>Reading time: ~200 wpm for alphabetic languages; if mostly CJK, we estimate by characters (~400 cpm).</li>
  </ul>
</section>
</main>

<footer>
  <a class="backTop" href="javascript:void(0)" onclick="backToTop()">Back to Top â†‘</a>
  <div style="margin-top:10px">Â© <span id="y"></span> GoToolOnline.com Â· Free online tools for everyone.</div>
</footer>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();

  // -------- i18n --------
  const I18N = {
    en:{title:"Character Counter",
        sub:"Counts grapheme clusters (emoji-aware), words, sentences, lines, paragraphs, and UTF-8 bytes. Everything runs locally.",
        yourText:"Your text", paste:"Paste", copy:"Copy", clear:"Clear", dl:"Download .txt",
        trim:"Trim before counting",
        kChars:"Characters (graphemes)", kCharsNoSpace:"Characters (no whitespace)", kWords:"Words",
        kSentences:"Sentences", kLines:"Lines", kParas:"Paragraphs", kBytes:"Bytes (UTF-8)",
        kSel:"Selection â€” chars / words", kRead:"Reading time (approx)",
        tipsT:"Tips",
        tipsHTML:`<li>On paste-heavy tasks, enable â€œTrim before countingâ€ to remove leading/trailing whitespace.</li>
                  <li>Bytes are UTF-8 encoded length. Emojis/ CJK may use multiple bytes.</li>
                  <li>Reading time: ~200 wpm for alphabetic languages; if mostly CJK, we estimate by characters (~400 cpm).</li>`,
        ready:"Ready.", copied:"Copied.", copyFail:"Copy not supported or blocked.",
        back:"Back to Home", placeholder:"Type or paste text hereâ€¦"},
    zh:{title:"å­—ç¬¦ç»Ÿè®¡å™¨",
        sub:"æŒ‰å­—ç´ ç°‡ç»Ÿè®¡ï¼ˆå…¼å®¹ emojiï¼‰ï¼Œå¹¶è®¡ç®—å•è¯ã€å¥å­ã€è¡Œã€æ®µè½åŠ UTF-8 å­—èŠ‚æ•°ã€‚æœ¬å·¥å…·å®Œå…¨åœ¨æœ¬åœ°è¿è¡Œã€‚",
        yourText:"åœ¨æ­¤è¾“å…¥æ–‡æœ¬", paste:"ç²˜è´´", copy:"å¤åˆ¶", clear:"æ¸…ç©º", dl:"ä¸‹è½½ .txt",
        trim:"ç»Ÿè®¡å‰å»é™¤é¦–å°¾ç©ºç™½",
        kChars:"å­—ç¬¦ï¼ˆå­—ç´ ç°‡ï¼‰", kCharsNoSpace:"å­—ç¬¦ï¼ˆä¸å«ç©ºç™½ï¼‰", kWords:"å•è¯",
        kSentences:"å¥å­", kLines:"è¡Œæ•°", kParas:"æ®µè½", kBytes:"å­—èŠ‚æ•°ï¼ˆUTF-8ï¼‰",
        kSel:"æ‰€é€‰ â€” å­—ç¬¦ / å•è¯", kRead:"é˜…è¯»æ—¶é•¿ï¼ˆçº¦ï¼‰",
        tipsT:"æç¤º",
        tipsHTML:`<li>å¤§é‡ç²˜è´´æ—¶å¯å¼€å¯â€œç»Ÿè®¡å‰å»é™¤é¦–å°¾ç©ºç™½â€ã€‚</li>
                  <li>å­—èŠ‚æ•°ä¸º UTF-8 ç¼–ç é•¿åº¦ï¼Œemoji/CJK å¯èƒ½å å¤šä¸ªå­—èŠ‚ã€‚</li>
                  <li>é˜…è¯»æ—¶é•¿ï¼šå­—æ¯è¯­ç³»æŒ‰ ~200 è¯/åˆ†é’Ÿï¼›æ–‡æœ¬ä¸»è¦ä¸ºä¸­æ—¥éŸ©æ—¶æŒ‰ ~400 å­—/åˆ†é’Ÿä¼°ç®—ã€‚</li>`,
        ready:"å°±ç»ªã€‚", copied:"å·²å¤åˆ¶ã€‚", copyFail:"å¤åˆ¶æœªè¢«å…è®¸æˆ–ä¸æ”¯æŒã€‚",
        back:"â† è¿”å›é¦–é¡µ", placeholder:"åœ¨æ­¤è¾“å…¥æˆ–ç²˜è´´â€¦"},
    ph:{title:"Character Counter",
        sub:"Bilang ng grapheme (emoji), words, sentences, lines, paragraphs at UTF-8 bytes. Lahat local.",
        yourText:"Ilagay ang text", paste:"Paste", copy:"Kopya", clear:"I-clear", dl:"Download .txt",
        trim:"Trim bago magbilang",
        kChars:"Characters (graphemes)", kCharsNoSpace:"Characters (walang whitespace)", kWords:"Words",
        kSentences:"Sentences", kLines:"Lines", kParas:"Paragraphs", kBytes:"Bytes (UTF-8)",
        kSel:"Selection â€” chars / words", kRead:"Oras ng pagbabasa (tantiya)",
        tipsT:"Mga tip",
        tipsHTML:`<li>I-on ang â€œTrimâ€ para alisin ang spaces sa dulo/ulo.</li>
                  <li>Bytes ay UTF-8 length.</li>
                  <li>Reading time ~200 wpm; CJK ~400 cpm.</li>`,
        ready:"Handa.", copied:"Nakopya.", copyFail:"Di suportado.",
        back:"Back to Home", placeholder:"Mag-type o paste ditoâ€¦"},
    id:{title:"Penghitung Karakter",
        sub:"Hitung grapheme (emoji), kata, kalimat, baris, paragraf, dan byte UTF-8. Semua lokal.",
        yourText:"Teks Anda", paste:"Tempel", copy:"Salin", clear:"Bersihkan", dl:"Unduh .txt",
        trim:"Trim sebelum hitung",
        kChars:"Karakter (grapheme)", kCharsNoSpace:"Karakter (tanpa whitespace)", kWords:"Kata",
        kSentences:"Kalimat", kLines:"Baris", kParas:"Paragraf", kBytes:"Byte (UTF-8)",
        kSel:"Seleksi â€” karakter / kata", kRead:"Waktu baca (Â±)",
        tipsT:"Tips",
        tipsHTML:`<li>Nyalakan â€œTrimâ€ untuk buang spasi di awal/akhir.</li>
                  <li>Byte = panjang UTF-8.</li>
                  <li>Waktu baca ~200 wpm; CJK ~400 cpm.</li>`,
        ready:"Siap.", copied:"Disalin.", copyFail:"Gagal menyalin.",
        back:"Back to Home", placeholder:"Ketik atau tempel di siniâ€¦"},
    vi:{title:"Bá»™ Ä‘áº¿m kÃ½ tá»±",
        sub:"Äáº¿m chá»¯ (grapheme/emoji), tá»«, cÃ¢u, dÃ²ng, Ä‘oáº¡n vÃ  byte UTF-8. Cháº¡y hoÃ n toÃ n cá»¥c bá»™.",
        yourText:"VÄƒn báº£n cá»§a báº¡n", paste:"DÃ¡n", copy:"Sao chÃ©p", clear:"XÃ³a", dl:"Táº£i .txt",
        trim:"Cáº¯t khoáº£ng tráº¯ng trÆ°á»›c khi Ä‘áº¿m",
        kChars:"KÃ½ tá»± (grapheme)", kCharsNoSpace:"KÃ½ tá»± (khÃ´ng khoáº£ng tráº¯ng)", kWords:"Tá»«",
        kSentences:"CÃ¢u", kLines:"DÃ²ng", kParas:"Äoáº¡n", kBytes:"Byte (UTF-8)",
        kSel:"VÃ¹ng chá»n â€” kÃ½ tá»± / tá»«", kRead:"Thá»i gian Ä‘á»c (Æ°á»›c tÃ­nh)",
        tipsT:"Máº¹o",
        tipsHTML:`<li>Báº­t â€œCáº¯tâ€ Ä‘á»ƒ bá» khoáº£ng tráº¯ng Ä‘áº§u/cuá»‘i.</li>
                  <li>Byte lÃ  Ä‘á»™ dÃ i UTF-8.</li>
                  <li>Thá»i gian Ä‘á»c ~200 tá»«/phÃºt; CJK ~400 kÃ½ tá»±/phÃºt.</li>`,
        ready:"Sáºµn sÃ ng.", copied:"ÄÃ£ sao chÃ©p.", copyFail:"KhÃ´ng thá»ƒ sao chÃ©p.",
        back:"Back to Home", placeholder:"Nháº­p hoáº·c dÃ¡n vÃ o Ä‘Ã¢yâ€¦"},
    bn:{title:"à¦…à¦•à§à¦·à¦° à¦—à¦£à¦•",
        sub:"à¦—à§à¦°à¦¾à¦«à¦¿à¦® (à¦‡à¦®à§‹à¦œà¦¿), à¦¶à¦¬à§à¦¦, à¦¬à¦¾à¦•à§à¦¯, à¦²à¦¾à¦‡à¦¨, à¦ªà§à¦¯à¦¾à¦°à¦¾à¦—à§à¦°à¦¾à¦« à¦“ UTF-8 à¦¬à¦¾à¦‡à¦Ÿ à¦—à¦£à¦¨à¦¾à¥¤ à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ à¦²à§‹à¦•à¦¾à¦²à¥¤",
        yourText:"à¦†à¦ªà¦¨à¦¾à¦° à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ", paste:"à¦ªà§‡à¦¸à§à¦Ÿ", copy:"à¦•à¦ªà¦¿", clear:"à¦ªà¦°à¦¿à¦·à§à¦•à¦¾à¦°", dl:".txt à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡",
        trim:"à¦—à¦£à¦¨à¦¾à¦° à¦†à¦—à§‡ à¦Ÿà§à¦°à¦¿à¦®",
        kChars:"à¦…à¦•à§à¦·à¦° (à¦—à§à¦°à¦¾à¦«à¦¿à¦®)", kCharsNoSpace:"à¦…à¦•à§à¦·à¦° (à¦¹à§‹à¦¯à¦¼à¦¾à¦‡à¦Ÿà¦¸à§à¦ªà§‡à¦¸ à¦¬à¦¾à¦¦à§‡)", kWords:"à¦¶à¦¬à§à¦¦",
        kSentences:"à¦¬à¦¾à¦•à§à¦¯", kLines:"à¦²à¦¾à¦‡à¦¨", kParas:"à¦…à¦¨à§à¦šà§à¦›à§‡à¦¦", kBytes:"à¦¬à¦¾à¦‡à¦Ÿ (UTF-8)",
        kSel:"à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ â€” à¦…à¦•à§à¦·à¦° / à¦¶à¦¬à§à¦¦", kRead:"à¦ªà¦¡à¦¼à¦¾à¦° à¦¸à¦®à¦¯à¦¼ (à¦ªà§à¦°à¦¾à¦¯à¦¼)",
        tipsT:"à¦Ÿà¦¿à¦ªà¦¸",
        tipsHTML:`<li>â€œà¦Ÿà§à¦°à¦¿à¦®â€ à¦šà¦¾à¦²à§ à¦•à¦°à¦²à§‡ à¦¶à§à¦°à§/à¦¶à§‡à¦·à§‡à¦° à¦«à¦¾à¦à¦•à¦¾ à¦…à¦‚à¦¶ à¦¬à¦¾à¦¦ à¦¦à§‡à¦¯à¦¼à¥¤</li>
                  <li>à¦¬à¦¾à¦‡à¦Ÿ à¦¹à¦²à§‹ UTF-8 à¦¦à§ˆà¦°à§à¦˜à§à¦¯à¥¤</li>
                  <li>à¦ªà¦¡à¦¼à¦¾à¦° à¦—à¦¤à¦¿ ~200 wpm; CJK ~400 cpm.</li>`,
        ready:"à¦ªà§à¦°à¦¸à§à¦¤à§à¦¤à¥¤", copied:"à¦•à¦ªà¦¿ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤", copyFail:"à¦•à¦ªà¦¿ à¦•à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼à¦¨à¦¿à¥¤",
        back:"Back to Home", placeholder:"à¦à¦–à¦¾à¦¨à§‡ à¦²à¦¿à¦–à§à¦¨ à¦¬à¦¾ à¦ªà§‡à¦¸à§à¦Ÿ à¦•à¦°à§à¦¨â€¦"},
    ng:{title:"Character Counter",
        sub:"Counts graphemes, words, sentences, lines, paragraphs and UTF-8 bytes. Offline.",
        yourText:"Your text", paste:"Paste", copy:"Copy", clear:"Clear", dl:"Download .txt",
        trim:"Trim before counting",
        kChars:"Characters (graphemes)", kCharsNoSpace:"Characters (no whitespace)", kWords:"Words",
        kSentences:"Sentences", kLines:"Lines", kParas:"Paragraphs", kBytes:"Bytes (UTF-8)",
        kSel:"Selection â€” chars / words", kRead:"Reading time (approx)",
        tipsT:"Tips",
        tipsHTML:`<li>Enable â€œTrimâ€ for pasted text.</li><li>Bytes are UTF-8 length.</li><li>Reading time: ~200 wpm; CJK ~400 cpm.</li>`,
        ready:"Ready.", copied:"Copied.", copyFail:"Copy blocked.", back:"Back to Home",
        placeholder:"Type or paste text hereâ€¦"},
    sw:{title:"Kihesabu Herufi",
        sub:"Huhesabu grapheme (emoji), maneno, sentensi, mistari, aya na baiti za UTF-8. Kila kitu ndani ya kivinjari.",
        yourText:"Maandishi yako", paste:"Bandika", copy:"Nakili", clear:"Futa", dl:"Pakua .txt",
        trim:"Kata nafasi kabla ya kuhesabu",
        kChars:"Herufi (grapheme)", kCharsNoSpace:"Herufi (bila nafasi)", kWords:"Maneno",
        kSentences:"Sentensi", kLines:"Mistari", kParas:"Aya", kBytes:"Baiti (UTF-8)",
        kSel:"Uteuzi â€” herufi / maneno", kRead:"Muda wa kusoma (makadirio)",
        tipsT:"Vidokezo",
        tipsHTML:`<li>Washa â€œKataâ€ kwa maandishi yaliyonakiliwa.</li>
                  <li>Baiti ni urefu wa UTF-8.</li>
                  <li>Muda wa kusoma ~200 wpm; CJK ~400 cpm.</li>`,
        ready:"Tayari.", copied:"Imenakiliwa.", copyFail:"Imekataliwa.", back:"Back to Home",
        placeholder:"Andika au bandika hapaâ€¦"},
    ar:{title:"Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø­Ø±Ù",
        sub:"ÙŠØ­ØµÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø±Ù (ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ)ØŒ Ø§Ù„ÙƒÙ„Ù…Ø§ØªØŒ Ø§Ù„Ø¬Ù…Ù„ØŒ Ø§Ù„Ø£Ø³Ø·Ø±ØŒ Ø§Ù„ÙÙ‚Ø±Ø§Øª ÙˆØ­Ø¬Ù… UTF-8. ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠÙ‹Ø§.",
        yourText:"Ù†ØµÙƒ Ù‡Ù†Ø§", paste:"Ù„ØµÙ‚", copy:"Ù†Ø³Ø®", clear:"Ù…Ø³Ø­", dl:"ØªÙ†Ø²ÙŠÙ„ .txt",
        trim:"ØªØ´Ø°ÙŠØ¨ Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ø¯",
        kChars:"Ø§Ù„Ø£Ø­Ø±Ù (Ù…Ø¬Ù…Ù‘Ø¹Ø§Øª)", kCharsNoSpace:"Ø§Ù„Ø£Ø­Ø±Ù (Ø¨Ø¯ÙˆÙ† ÙØ±Ø§ØºØ§Øª)", kWords:"Ø§Ù„ÙƒÙ„Ù…Ø§Øª",
        kSentences:"Ø§Ù„Ø¬Ù…Ù„", kLines:"Ø§Ù„Ø£Ø³Ø·Ø±", kParas:"Ø§Ù„ÙÙ‚Ø±Ø§Øª", kBytes:"Ø¨Ø§ÙŠØª (UTF-8)",
        kSel:"Ø§Ù„Ù…Ø­Ø¯Ø¯ â€” Ø£Ø­Ø±Ù / ÙƒÙ„Ù…Ø§Øª", kRead:"ÙˆÙ‚Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© (ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§)",
        tipsT:"Ù†ØµØ§Ø¦Ø­",
        tipsHTML:`<li>ÙØ¹Ù‘Ù„ â€œØ§Ù„ØªØ´Ø°ÙŠØ¨â€ Ù„Ù„Ù†Øµ Ø§Ù„Ù…Ù„ØµÙˆÙ‚.</li><li>Ø§Ù„Ø¨Ø§ÙŠØªØ§Øª Ù‡ÙŠ Ø·ÙˆÙ„ UTF-8.</li><li>Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ~200 ÙƒÙ„Ù…Ø©/Ø¯Ø› ÙˆÙ„Ù„Ù†ØµÙˆØµ CJK ~400 Ø­Ø±Ù/Ø¯.</li>`,
        ready:"Ø¬Ø§Ù‡Ø².", copied:"Ù†ÙØ³Ø®.", copyFail:"ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®.", back:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
        placeholder:"Ø§ÙƒØªØ¨ Ø£Ùˆ Ø§Ù„ØµÙ‚ Ù‡Ù†Ø§â€¦"}
  };
  const HTML_LANG = {en:'en', zh:'zh-CN', ph:'tl-PH', id:'id', vi:'vi', bn:'bn', ng:'en', sw:'sw', ar:'ar'};
  const qs = new URLSearchParams(location.search);

  function setHomeLinksForLang(lang){
    var path = location.pathname.replace(/\/+$/,'');
    var parts = path.split('/'); parts = (parts.length>=3)? parts.slice(0, parts.length-2) : [''];
    var home = parts.join('/') + '/';
    const u = new URL(home, location.origin); u.searchParams.set('lang', lang);
    document.querySelectorAll('a[data-home]').forEach(a=>a.setAttribute('href', u.pathname+u.search+u.hash));
  }

  function applyLang(lang){
    const t=I18N[lang]||I18N.en;
    document.title = t.title + " | GoToolOnline";
    document.documentElement.lang = HTML_LANG[lang]||'en';
    document.documentElement.dir  = (lang==='ar')?'rtl':'ltr';
    document.getElementById('back').textContent = t.back || "Back to Home";
    document.getElementById('title').textContent = t.title;
    document.getElementById('subtitle').textContent = t.sub;
    document.getElementById('lblInput').textContent = t.yourText;
    document.getElementById('txt').placeholder = t.placeholder || "";
    document.getElementById('paste').textContent = t.paste;
    document.getElementById('copy').textContent = t.copy;
    document.getElementById('clear').textContent = t.clear;
    document.getElementById('download').textContent = t.dl;
    document.getElementById('optTrim').textContent = t.trim;

    document.getElementById('kChars').textContent = t.kChars;
    document.getElementById('kCharsNoSpace').textContent = t.kCharsNoSpace;
    document.getElementById('kWords').textContent = t.kWords;
    document.getElementById('kSentences').textContent = t.kSentences;
    document.getElementById('kLines').textContent = t.kLines;
    document.getElementById('kParas').textContent = t.kParas;
    document.getElementById('kBytes').textContent = t.kBytes;
    document.getElementById('kSel').textContent = t.kSel;
    document.getElementById('kRead').textContent = t.kRead;

    document.getElementById('tipsTitle').textContent = t.tipsT;
    document.getElementById('tipsList').innerHTML = t.tipsHTML;
    localStorage.setItem('lang', lang); qs.set('lang', lang);
    history.replaceState({}, '', location.pathname + '?' + qs.toString());
    setHomeLinksForLang(lang);
  }
  (function bootLang(){
    const L = qs.get('lang') || localStorage.getItem('lang') || 'en';
    const sel = document.getElementById('lang'); sel.value = I18N[L]?L:'en';
    applyLang(sel.value);
    sel.addEventListener('change', e=> applyLang(e.target.value));
  })();

  // -------- counters (emoji-aware) --------
  const segG = (typeof Intl!=='undefined' && Intl.Segmenter) ? new Intl.Segmenter(undefined,{granularity:'grapheme'}) : null;
  const segW = (typeof Intl!=='undefined' && Intl.Segmenter) ? new Intl.Segmenter(undefined,{granularity:'word'}) : null;
  const segS = (typeof Intl!=='undefined' && Intl.Segmenter) ? new Intl.Segmenter(undefined,{granularity:'sentence'}) : null;

  const reWordFallback = /[\p{L}\p{M}\p{N}]+/gu;
  const reSentenceFallback = /[^.!?â€¦\n]+[.!?â€¦]*/g;
  const textEnc = (typeof TextEncoder!=='undefined') ? new TextEncoder() : null;

  function graphemeCount(str){
    if (!str) return 0;
    if (segG){ let n=0; for (const _ of segG.segment(str)) n++; return n; }
    // fallback: by code points
    return Array.from(str).length;
  }
  function wordCount(str){
    if (!str) return 0;
    if (segW){ let n=0; for (const s of segW.segment(str)) if (s.isWordLike) n++; return n; }
    const m = str.match(reWordFallback); return m? m.length : 0;
  }
  function sentenceCount(str){
    if (!str) return 0;
    if (segS){ let n=0; for (const _ of segS.segment(str)) n++; return n; }
    const m = str.match(reSentenceFallback); return m? m.length : 0;
  }
  function lineCount(str){ if (!str) return 0; return str.split(/\r\n|\r|\n/).length; }
  function paraCount(str){
    if (!str) return 0;
    // split by blank-line or line-break, trim empties
    return str.split(/\r\n\r\n|\n\n|\r\r|[\r\n]+(?=\s*[\r\n]|$)/).map(s=>s.trim()).filter(Boolean).length;
  }
  function bytesUTF8(str){
    if (!str) return 0;
    if (textEnc) return textEnc.encode(str).length;
    // fallback: Blob
    try { return new Blob([str]).size; } catch { return str.length; }
  }

  function isMostlyCJK(str){
    const m = str.match(/\p{Script=Han}|\p{Script=Hiragana}|\p{Script=Katakana}|\p{Script=Hangul}/gu);
    return m && m.length > (str.length/6); // rough heuristic
  }
  function readingTime(words, chars){
    if (words===0 && chars===0) return 0;
    if (isMostlyCJK(chars>0? 'x'.repeat(chars):'')) {
      const mins = chars/400/60; return mins*60; // seconds
    }
    return (words/200)*60; // seconds
  }

  const $ = s=>document.querySelector(s);
  const tSel = ()=> I18N[$('#lang').value]||I18N.en;

  function update(){
    const t = tSel();
    let txt = $('#txt').value || '';
    if ($('#trim').checked) txt = txt.trim();

    const chars = graphemeCount(txt);
    const charsNoSpace = graphemeCount(txt.replace(/\s+/g,''));
    const words = wordCount(txt);
    const sents = sentenceCount(txt);
    const lines = lineCount(txt);
    const paras = paraCount(txt);
    const bytes = bytesUTF8(txt);

    // selection
    const ta = $('#txt'); const selLen = Math.abs((ta.selectionEnd||0) - (ta.selectionStart||0));
    let selText = ''; if (selLen>0) selText = ta.value.slice(ta.selectionStart, ta.selectionEnd);
    const selChars = selText ? graphemeCount(selText) : 0;
    const selWords = selText ? wordCount(selText) : 0;

    // reading
    const rt = readingTime(words, chars);
    const mins = Math.floor(rt/60); const secs = Math.round(rt%60);
    const rtStr = (mins>0? `${mins}m ${String(secs).padStart(2,'0')}s` : `${secs}s`);

    // render
    $('#cChars').textContent = String(chars);
    $('#cCharsNoSpace').textContent = String(charsNoSpace);
    $('#cWords').textContent = String(words);
    $('#cSentences').textContent = String(sents);
    $('#cLines').textContent = String(lines);
    $('#cParas').textContent = String(paras);
    $('#cBytes').textContent = String(bytes);
    $('#cSel').textContent = `${selChars} / ${selWords}`;
    $('#cRead').textContent = (chars||words)? rtStr : '0s';

    localStorage.setItem('cc_text', txt);
  }

  // events
  ['input','keyup','change'].forEach(ev=> $('#txt').addEventListener(ev, update));
  $('#txt').addEventListener('select', update);
  $('#trim').addEventListener('change', update);

  // buttons
  $('#paste').addEventListener('click', async ()=>{
    try{ const s = await navigator.clipboard.readText(); if (s){ $('#txt').value = s; update(); } }
    catch{ /* ignore */ }
  });
  $('#copy').addEventListener('click', ()=>{
    const t = tSel();
    navigator.clipboard?.writeText($('#txt').value||'').then(()=>{
      const b = $('#copy'); b.textContent = t.copied; setTimeout(()=> b.textContent=t.copy, 900);
    }).catch(()=>{
      const b = $('#copy'); b.textContent = t.copyFail; setTimeout(()=> b.textContent=t.copy, 1200);
    });
  });
  $('#clear').addEventListener('click', ()=>{ $('#txt').value=''; update(); });
  $('#download').addEventListener('click', ()=>{
    const blob = new Blob([$('#txt').value||''], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob); const a=document.createElement('a');
    a.href=url; a.download='text.txt'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  });

  // boot
  (function boot(){
    const saved = localStorage.getItem('cc_text'); if (saved) $('#txt').value = saved;
    update();
  })();

  // Enter = do nothing special (live), but support Ctrl+A selection count update
  window.addEventListener('keydown', (e)=>{ if (e.key==='Enter') setTimeout(update,0); });
</script>

<!-- ä¿ç•™ä½ çš„â€œè¿”å›é¦–é¡µå¸¦ langâ€é€»è¾‘ -->
<script>
(function(){
  var path = location.pathname.replace(/\/+$/,''); // strip trailing slashes
  var parts = path.split('/');
  if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
  else parts = ['']; // already at root
  var home = parts.join('/') + '/';

  // preserve ?lang if present
  var cur = new URL(location.href);
  var lang = cur.searchParams.get('lang');
  if (lang) {
    var u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    home = u.pathname + u.search + u.hash;
  }
  document.querySelectorAll('a[data-home]').forEach(function(a){
    a.setAttribute('href', home);
  });
})();
</script>
</body>
</html>
