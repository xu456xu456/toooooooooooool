<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Stopwatch ‚Äî Multiple Parallel Timers, Laps & CSV Export | GoToolOnline</title>
<meta name="description" content="Free online stopwatch with up to 5 parallel timers. Start/Pause, Lap tracking, Reset and CSV export. Big digits, keyboard shortcuts, and shareable URL (?n=5)."/>
<meta content="width=device-width, initial-scale=1" name="viewport">
<link href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text x='2' y='14' font-size='14'>‚è±Ô∏è</text></svg>" rel="icon"/>
<!-- Canonical & Social -->

<meta content="website" property="og:type"/>
<meta content="Stopwatch ‚Äî Up to 5 Parallel Timers | GoToolOnline" property="og:title"/>
<meta content="Run multiple stopwatches at once. Lap, Reset, Export CSV. Big digits and keyboard shortcuts." property="og:description"/>
<meta content="https://gotoolonline.com/time/stopwatch/" property="og:url"/>
<meta content="summary" name="twitter:card"/>
<meta content="index, follow, max-image-preview:large" name="robots"/>
<!-- Structured data -->
<script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"Stopwatch",
    "url":"https://gotoolonline.com/time/stopwatch/",
    "applicationCategory":"Timer",
    "operatingSystem":"Web",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
    "publisher":{"@type":"Organization","name":"GoToolOnline","url":"https://gotoolonline.com"}
  }
</script>
<script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://gotoolonline.com/"},
      {"@type":"ListItem","position":2,"name":"Time Tools","item":"https://gotoolonline.com/time/"},
      {"@type":"ListItem","position":3,"name":"Stopwatch","item":"https://gotoolonline.com/time/stopwatch/"}
    ]
  }
</script>
<script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"How many stopwatches can I run?","acceptedAnswer":{"@type":"Answer","text":"You can run up to five independent stopwatches in parallel."}},
      {"@type":"Question","name":"Can I export lap times?","acceptedAnswer":{"@type":"Answer","text":"Yes. Each stopwatch can export its laps as a CSV file (Lap, Split, Total)."}},
      {"@type":"Question","name":"How do I share a setup with multiple timers?","acceptedAnswer":{"@type":"Answer","text":"Append a query like ?n=5 to the URL to open the page with five stopwatches."}}
    ]
  }
</script>
<style>
  :root { --bg:#0a0f1e; --card:#0f1830; --muted:#9fb0c3; --fg:#eaf3ff; --acc:#4fb3ff; }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
  header{max-width:1200px;margin:24px auto 8px;display:flex;gap:14px;align-items:center;padding:0 18px}
  header a.logo{display:flex;gap:10px;align-items:center;text-decoration:none;color:var(--fg);font-weight:800;font-size:24px;white-space:nowrap}
  header a.navbtn{padding:10px 14px;background:#0f1a2f;border:1px solid #24365b;border-radius:12px;color:#eaf3ff;text-decoration:none;font-size:16px;white-space:nowrap}
  header a.navbtn:hover{border-color:#4fb3ff;box-shadow:0 0 0 3px rgba(79,179,255,.18)}
  .langWrap{margin-left:auto;display:flex;align-items:center;gap:8px}
  .lang{padding:8px 10px;border-radius:10px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff;font-size:14px}
  main{max-width:1200px;margin:10px auto 72px;padding:0 18px}
  h1{font-size:34px;margin:10px 0 12px}
  p,label{font-size:18px;line-height:1.6}
  .muted{color:var(--muted)}
  .card{background:#0f1830;border:1px solid #1a2843;border-radius:20px;padding:20px;margin:16px 0}
  input,button{padding:12px 14px;border-radius:12px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff;font-size:16px}
  button{cursor:pointer;background:linear-gradient(180deg,#2a78ff,#0050d4);border:none;font-weight:700;letter-spacing:.2px}
  button:hover{filter:brightness(1.06)}
  .toolbar{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .small{font-size:14px;color:#9fb0c3}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;margin-top:16px}
  .sw{background:#0f1830;border:1px solid #1a2843;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px}
  .sw .title{display:flex;justify-content:space-between;align-items:center}
  .sw .title strong{font-size:18px}
  .time{font-size:48px;font-weight:900;letter-spacing:1px;text-align:center}
  .controls{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
  .laplist{border-top:1px dashed #2a3c64;margin-top:8px;padding-top:8px;max-height:220px;overflow:auto}
  table{width:100%;border-collapse:collapse;font-size:14px}
  th,td{padding:6px 8px;text-align:left;border-bottom:1px solid #1a2843;white-space:nowrap}
  kbd{background:#0f1a2f;border:1px solid #24365b;border-radius:6px;padding:2px 6px;font-size:12px}
  .chip{padding:8px 12px;border:1px solid #24365b;background:#0f1a2f;border-radius:999px;cursor:pointer;font-size:16px}
  .chip:hover{border-color:#4fb3ff;box-shadow:0 0 0 3px rgba(79,179,255,.18)}
  footer{max-width:1200px;margin:40px auto;padding:0 18px;color:#9fb0c3;font-size:14px}
  .footer-links a{color:#8cd1ff;text-decoration:none;margin-right:10px}
  .footer-links a:hover{text-decoration:underline}
  @media (max-width:480px){ .time{font-size:38px} }
  @media print{ header,footer,.toolbar,.langWrap{display:none!important} body{background:#fff;color:#000} .card,.sw{border:none} }
</style>

  
  <link rel="alternate" hreflang="en" href="https://gotoolonline.com/time/stopwatch/"/>
  <link rel="alternate" hreflang="x-default" href="https://gotoolonline.com/time/stopwatch/"/>

<link rel="canonical" href="https://gotoolonline.com/time/stopwatch/">
</head>
<body>
<header>
  <a class="logo" data-home href="#"><span>üõ†Ô∏è</span><strong>GoToolOnline</strong></a>
  <a id="backLink" class="navbtn" data-home href="#">‚Üê Back to Home</a>
  <div class="langWrap">
    <span class="muted">üåê</span>
    <select id="lang" class="lang" aria-label="Language">
      <option value="en">English</option>
      <option value="zh">ÁÆÄ‰Ωì‰∏≠Êñá</option>
      <option value="ph">Tagalog</option>
      <option value="id">Bahasa Indonesia</option>
      <option value="vi">Ti·∫øng Vi·ªát</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      <option value="ng">English (NG)</option>
      <option value="sw">Kiswahili</option>
      <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
    </select>
  </div>
</header>

<main>
  <nav aria-label="Breadcrumb" class="small" style="margin-bottom:6px">
    <a id="bcHome" data-home href="#">Home</a> ‚Ä∫ <a id="bcTime" href="/time/">Time Tools</a> ‚Ä∫ <strong id="bcCurrent">Stopwatch</strong>
  </nav>

  <section class="card">
    <h1 id="pageTitle">Stopwatch (Up to 5)</h1>
    <p id="hero" class="muted">Run multiple independent stopwatches with lap timing and CSV export. Share a multi-stopwatch layout via <code>?n=5</code>.</p>
    <div class="toolbar">
      <button id="addOne">Add Stopwatch</button>
      <button id="addToFive" title="Create up to five stopwatches">Add 4 More</button>
      <span id="kbHint" class="small">Keyboard (focused card): <kbd>Space</kbd> Start/Pause ¬∑ <kbd>L</kbd> Lap ¬∑ <kbd>R</kbd> Reset</span>
    </div>
  </section>

  <section class="grid" id="wrap"></section>

  <section aria-labelledby="faq-h2" class="card">
    <h2 id="faq-h2" style="margin:0 0 8px 0;font-size:22px">FAQ</h2>
    <details><summary id="q1">How do I open with 5 stopwatches?</summary><div id="a1" class="small">Visit <code>/time/stopwatch/?n=5</code> and share that link.</div></details>
    <details><summary id="q2">Can I export lap times?</summary><div id="a2" class="small">Yes ‚Äî click <b>Export</b> to download a CSV (Lap, Split, Total).</div></details>
    <details><summary id="q3">Does it work offline?</summary><div id="a3" class="small">The timer logic runs in your browser. No sign-in required.</div></details>
  </section>

  <section class="card">
    <h2 id="relTitle" style="margin:0 0 6px 0;font-size:22px">Related tools</h2>
    <p id="relText" class="small" style="margin:0">
      Need alarms instead? Try the <a href="/time/countdown-timer/">Countdown Timer</a>.
      For dates math, see <a href="/calculators/date-difference/">Date Difference</a>.
    </p>
  </section>
</main>

<footer>
  <div class="footer-links">
    <a href="/about/">About</a> ¬∑
    <a href="/privacy/">Privacy</a> ¬∑
    <a href="/terms/">Terms</a> ¬∑
    <a href="/contact/">Contact</a>
  </div>
  <div style="margin-top:8px">¬© <span id="y"></span> GoToolOnline.com ¬∑ Free online tools for everyone.</div>
</footer>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();

  // ---------- i18n ----------
  const HTML_LANG = { en:'en', zh:'zh-CN', ph:'tl-PH', id:'id-ID', vi:'vi-VN', bn:'bn', ng:'en-NG', sw:'sw', ar:'ar' };

  const I18N = {
    en: {
      metaTitle:"Stopwatch ‚Äî Multiple Parallel Timers, Laps & CSV Export | GoToolOnline",
      metaDesc:"Free online stopwatch with up to 5 parallel timers. Start/Pause, Lap tracking, Reset and CSV export. Big digits, keyboard shortcuts, and shareable URL (?n=5).",
      back:"‚Üê Back to Home",
      crumbHome:"Home", crumbTime:"Time Tools", crumbCur:"Stopwatch",
      h1:"Stopwatch (Up to 5)",
      hero:'Run multiple independent stopwatches with lap timing and CSV export. Share a multi-stopwatch layout via <code>?n=5</code>.',
      addOne:"Add Stopwatch", addToFive:"Add 4 More",
      kbdHint:'Keyboard (focused card): <kbd>Space</kbd> Start/Pause ¬∑ <kbd>L</kbd> Lap ¬∑ <kbd>R</kbd> Reset',
      // card
      cardTitle:"Stopwatch", remove:"Remove", removeTitle:"Remove this stopwatch",
      start:"Start", pause:"Pause", lap:"Lap", reset:"Reset", export:"Export",
      lapsLabel:"Laps", thN:"#", thSplit:"Split", thTotal:"Total",
      alertMax:"Up to 5 stopwatches only.", alertNoLaps:"No laps to export.",
      csvHeader:["Lap","Split","Total"],
      // FAQ & related
      faq:"FAQ",
      q1:"How do I open with 5 stopwatches?", a1:'Visit <code>/time/stopwatch/?n=5</code> and share that link.',
      q2:"Can I export lap times?", a2:'Yes ‚Äî click <b>Export</b> to download a CSV (Lap, Split, Total).',
      q3:"Does it work offline?", a3:"The timer logic runs in your browser. No sign-in required.",
      relTitle:"Related tools",
      relText:'Need alarms instead? Try the <a href="/time/countdown-timer/">Countdown Timer</a>. For dates math, see <a href="/calculators/date-difference/">Date Difference</a>.'
    },
    zh: {
      metaTitle:"ÁßíË°® ‚Äî Â§öË∑ØÂπ∂Ë°å„ÄÅÂúàÈÄü‰∏é CSV ÂØºÂá∫ | GoToolOnline",
      metaDesc:"ÂÖçË¥πÂú®Á∫øÁßíË°®ÔºåÊúÄÂ§öÂπ∂Ë°å 5 ÁªÑ„ÄÇÂºÄÂßã/ÊöÇÂÅú„ÄÅÂúàÈÄü„ÄÅÈáçÁΩÆ‰∏é CSV ÂØºÂá∫„ÄÇÂ§ßÂè∑Êï∞Â≠ó„ÄÅÈîÆÁõòÂø´Êç∑ÈîÆ„ÄÅÂèØÂàÜ‰∫´ÈìæÊé•Ôºà?n=5Ôºâ„ÄÇ",
      back:"‚Üê ËøîÂõûÈ¶ñÈ°µ",
      crumbHome:"È¶ñÈ°µ", crumbTime:"Êó∂Èó¥Â∑•ÂÖ∑", crumbCur:"ÁßíË°®",
      h1:"ÁßíË°®ÔºàÊúÄÂ§ö 5 ‰∏™Ôºâ",
      hero:'ÊîØÊåÅÂ§öÁªÑÁã¨Á´ãÁßíË°®ÔºåÂúàÈÄü‰∏é CSV ÂØºÂá∫„ÄÇÂèØÁî® <code>?n=5</code> ÊâìÂºÄ 5 ÁªÑÂ∏ÉÂ±ÄÂπ∂ÂàÜ‰∫´„ÄÇ',
      addOne:"Êñ∞Â¢ûÁßíË°®", addToFive:"‰∏ÄÈîÆÂà∞ 5 ‰∏™",
      kbdHint:'ÈîÆÁõòÔºàÂç°ÁâáËÅöÁÑ¶ÔºâÔºö<kbd>Space</kbd> ÂºÄÂßã/ÊöÇÂÅú ¬∑ <kbd>L</kbd> ËÆ∞Âúà ¬∑ <kbd>R</kbd> ÈáçÁΩÆ',
      cardTitle:"ÁßíË°®", remove:"Âà†Èô§", removeTitle:"Âà†Èô§ËØ•ÁßíË°®",
      start:"ÂºÄÂßã", pause:"ÊöÇÂÅú", lap:"ÂúàÈÄü", reset:"ÈáçÁΩÆ", export:"ÂØºÂá∫",
      lapsLabel:"ÂúàÈÄü", thN:"#", thSplit:"ÂàÜÊÆµ", thTotal:"Á¥ØËÆ°",
      alertMax:"ÊúÄÂ§ö 5 ‰∏™ÁßíË°®„ÄÇ", alertNoLaps:"Ê≤°ÊúâÂèØÂØºÂá∫ÁöÑÂúàÈÄü„ÄÇ",
      csvHeader:["Lap","Split","Total"],
      faq:"Â∏∏ËßÅÈóÆÈ¢ò",
      q1:"Â¶Ç‰ΩïÁõ¥Êé•ÊâìÂºÄ 5 ‰∏™ÁßíË°®Ôºü", a1:'ËÆøÈóÆ <code>/time/stopwatch/?n=5</code> Âπ∂ÂàÜ‰∫´ËØ•ÈìæÊé•„ÄÇ',
      q2:"ËÉΩÂØºÂá∫ÂúàÈÄüÂêóÔºü", a2:'ÂèØ‰ª•ÔºåÁÇπÂáª <b>ÂØºÂá∫</b> ‰∏ãËΩΩ CSVÔºàLap/Single Split/TotalÔºâ„ÄÇ',
      q3:"Á¶ªÁ∫øÂèØÁî®ÂêóÔºü", a3:"ÈÄªËæëÂú®ÊµèËßàÂô®ÂÜÖÊâßË°åÔºåÊó†ÈúÄÁôªÂΩï„ÄÇ",
      relTitle:"Áõ∏ÂÖ≥Â∑•ÂÖ∑",
      relText:'ÈúÄË¶ÅÈóπÈíüÔºüËØïËØï <a href="/time/countdown-timer/">ÂÄíËÆ°Êó∂ËÆ°Êó∂Âô®</a>„ÄÇÊó•ÊúüËÆ°ÁÆóÂèÇËßÅ <a href="/calculators/date-difference/">Êó•ÊúüÂ∑ÆËÆ°ÁÆó</a>„ÄÇ'
    },
    ph: {
      metaTitle:"Stopwatch ‚Äî Maramihang Timer, Lap at CSV Export | GoToolOnline",
      metaDesc:"Libreng stopwatch na may hanggang 5 sabayang timer. Start/Pause, Lap, Reset at CSV export. Malalaking digit at keyboard shortcuts.",
      back:"‚Üê Balik sa Home",
      crumbHome:"Home", crumbTime:"Mga Tool sa Oras", crumbCur:"Stopwatch",
      h1:"Stopwatch (Hanggang 5)",
      hero:'Magpatakbo ng maraming independent stopwatch na may lap at CSV export. Ibahagi ang layout gamit ang <code>?n=5</code>.',
      addOne:"Magdagdag ng Stopwatch", addToFive:"Dagdag pa ng 4",
      kbdHint:'Keyboard (nakatuon ang card): <kbd>Space</kbd> Start/Pause ¬∑ <kbd>L</kbd> Lap ¬∑ <kbd>R</kbd> Reset',
      cardTitle:"Stopwatch", remove:"Alisin", removeTitle:"Alisin ang stopwatch na ito",
      start:"Start", pause:"Pause", lap:"Lap", reset:"Reset", export:"Export",
      lapsLabel:"Laps", thN:"#", thSplit:"Split", thTotal:"Total",
      alertMax:"Hanggang 5 stopwatch lamang.", alertNoLaps:"Walang laps para i-export.",
      csvHeader:["Lap","Split","Total"],
      faq:"FAQ",
      q1:"Paano bubuksan na may 5 stopwatch?", a1:'Bisitahin ang <code>/time/stopwatch/?n=5</code> at ibahagi ang link.',
      q2:"Maaari bang i-export ang lap times?", a2:'Oo ‚Äî i-click ang <b>Export</b> para i-download ang CSV (Lap, Split, Total).',
      q3:"Gagana ba offline?", a3:"Tumatakbo ang lohika sa iyong browser. Walang sign-in.",
      relTitle:"Kaugnay na tool",
      relText:'Kailangan mo ng alarma? Subukan ang <a href="/time/countdown-timer/">Countdown Timer</a>. Para sa petsa, tingnan ang <a href="/calculators/date-difference/">Date Difference</a>.'
    },
    id: {
      metaTitle:"Stopwatch ‚Äî Banyak Timer Paralel, Lap & Ekspor CSV | GoToolOnline",
      metaDesc:"Stopwatch online gratis hingga 5 timer paralel. Mulai/Jeda, Lap, Reset, dan ekspor CSV. Digit besar & pintasan keyboard.",
      back:"‚Üê Kembali ke Beranda",
      crumbHome:"Beranda", crumbTime:"Alat Waktu", crumbCur:"Stopwatch",
      h1:"Stopwatch (Hingga 5)",
      hero:'Jalankan beberapa stopwatch independen dengan lap & ekspor CSV. Bagikan tata letak dengan <code>?n=5</code>.',
      addOne:"Tambah Stopwatch", addToFive:"Tambah 4 Lagi",
      kbdHint:'Keyboard (kartu fokus): <kbd>Space</kbd> Mulai/Jeda ¬∑ <kbd>L</kbd> Lap ¬∑ <kbd>R</kbd> Atur Ulang',
      cardTitle:"Stopwatch", remove:"Hapus", removeTitle:"Hapus stopwatch ini",
      start:"Mulai", pause:"Jeda", lap:"Lap", reset:"Atur Ulang", export:"Ekspor",
      lapsLabel:"Lap", thN:"#", thSplit:"Split", thTotal:"Total",
      alertMax:"Maksimal 5 stopwatch saja.", alertNoLaps:"Tidak ada lap untuk diekspor.",
      csvHeader:["Lap","Split","Total"],
      faq:"FAQ",
      q1:"Bagaimana membuka 5 stopwatch?", a1:'Kunjungi <code>/time/stopwatch/?n=5</code> dan bagikan tautannya.',
      q2:"Bisakah mengekspor lap?", a2:'Bisa ‚Äî klik <b>Ekspor</b> untuk mengunduh CSV (Lap, Split, Total).',
      q3:"Bisa offline?", a3:"Logika berjalan di browser Anda. Tanpa masuk.",
      relTitle:"Alat terkait",
      relText:'Butuh alarm? Coba <a href="/time/countdown-timer/">Countdown Timer</a>. Untuk tanggal, lihat <a href="/calculators/date-difference/">Date Difference</a>.'
    },
    vi: {
      metaTitle:"ƒê·ªìng h·ªì b·∫•m gi·ªù ‚Äî Nhi·ªÅu b·ªô song song, v√≤ng & xu·∫•t CSV | GoToolOnline",
      metaDesc:"ƒê·ªìng h·ªì b·∫•m gi·ªù tr·ª±c tuy·∫øn mi·ªÖn ph√≠, t·ªëi ƒëa 5 b·ªô song song. B·∫Øt ƒë·∫ßu/T·∫°m d·ª´ng, V√≤ng (Lap), ƒê·∫∑t l·∫°i v√† xu·∫•t CSV. S·ªë l·ªõn & ph√≠m t·∫Øt.",
      back:"‚Üê V·ªÅ Trang ch·ªß",
      crumbHome:"Trang ch·ªß", crumbTime:"C√¥ng c·ª• Th·ªùi gian", crumbCur:"ƒê·ªìng h·ªì b·∫•m gi·ªù",
      h1:"ƒê·ªìng h·ªì b·∫•m gi·ªù (t·ªëi ƒëa 5)",
      hero:'Ch·∫°y nhi·ªÅu ƒë·ªìng h·ªì ƒë·ªôc l·∫≠p, c√≥ v√≤ng v√† xu·∫•t CSV. Chia s·∫ª b·ªë c·ª•c b·∫±ng <code>?n=5</code>.',
      addOne:"Th√™m ƒë·ªìng h·ªì", addToFive:"Th√™m 4 c√°i n·ªØa",
      kbdHint:'B√†n ph√≠m (khi th·∫ª ƒë∆∞·ª£c ch·ªçn): <kbd>Space</kbd> B·∫Øt ƒë·∫ßu/T·∫°m d·ª´ng ¬∑ <kbd>L</kbd> V√≤ng ¬∑ <kbd>R</kbd> ƒê·∫∑t l·∫°i',
      cardTitle:"ƒê·ªìng h·ªì", remove:"Xo√°", removeTitle:"Xo√° ƒë·ªìng h·ªì n√†y",
      start:"B·∫Øt ƒë·∫ßu", pause:"T·∫°m d·ª´ng", lap:"V√≤ng", reset:"ƒê·∫∑t l·∫°i", export:"Xu·∫•t",
      lapsLabel:"V√≤ng", thN:"#", thSplit:"Split", thTotal:"T·ªïng",
      alertMax:"T·ªëi ƒëa 5 ƒë·ªìng h·ªì b·∫•m gi·ªù.", alertNoLaps:"Kh√¥ng c√≥ v√≤ng ƒë·ªÉ xu·∫•t.",
      csvHeader:["Lap","Split","Total"],
      faq:"FAQ",
      q1:"M·ªü s·∫µn 5 ƒë·ªìng h·ªì th·∫ø n√†o?", a1:'Truy c·∫≠p <code>/time/stopwatch/?n=5</code> v√† chia s·∫ª li√™n k·∫øt.',
      q2:"Xu·∫•t th·ªùi gian v√≤ng ƒë∆∞·ª£c kh√¥ng?", a2:'ƒê∆∞·ª£c ‚Äî b·∫•m <b>Xu·∫•t</b> ƒë·ªÉ t·∫£i CSV (Lap, Split, Total).',
      q3:"D√πng offline ch·ª©?", a3:"Ch·∫°y ho√†n to√†n trong tr√¨nh duy·ªát, kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p.",
      relTitle:"C√¥ng c·ª• li√™n quan",
      relText:'C·∫ßn b√°o th·ª©c? Th·ª≠ <a href="/time/countdown-timer/">ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c</a>. T√≠nh ng√†y xem <a href="/calculators/date-difference/">Ch√™nh l·ªách ng√†y</a>.'
    },
    bn: {
      metaTitle:"‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö ‚Äî ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞, ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ì CSV ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü | GoToolOnline",
      metaDesc:"‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá‡¶∞ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö (‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß´‡¶ü‡¶ø ‡¶∏‡¶Æ‡¶æ‡¶®‡ßç‡¶§‡¶∞‡¶æ‡¶≤)‡•§ ‡¶∂‡ßÅ‡¶∞‡ßÅ/‡¶¨‡¶ø‡¶∞‡¶§‡¶ø, ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™, ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ì CSV ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü‡•§ ‡¶¨‡¶°‡¶º ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ì ‡¶ï‡¶ø‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∂‡¶∞‡ßç‡¶ü‡¶ï‡¶æ‡¶ü‡•§",
      back:"‚Üê ‡¶π‡ßã‡¶Æ‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®",
      crumbHome:"‡¶π‡ßã‡¶Æ", crumbTime:"‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ü‡ßÅ‡¶≤‡¶∏", crumbCur:"‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö",
      h1:"‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö (‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß´‡¶ü‡¶ø)",
      hero:'‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶® ‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®, ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶∏‡¶π CSV ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü‡•§ <code>?n=5</code> ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡ß´‡¶ü‡¶ø‡¶∞ ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
      addOne:"‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®", addToFive:"‡¶Ü‡¶∞ ‡ß™‡¶ü‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®",
      kbdHint:'‡¶ï‡¶ø‡¶¨‡ßã‡¶∞‡ßç‡¶° (‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡ßã‡¶ï‡¶æ‡¶∏): <kbd>Space</kbd> ‡¶∂‡ßÅ‡¶∞‡ßÅ/‡¶¨‡¶ø‡¶∞‡¶§‡¶ø ¬∑ <kbd>L</kbd> ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™ ¬∑ <kbd>R</kbd> ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü',
      cardTitle:"‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö", remove:"‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®", removeTitle:"‡¶è‡¶á ‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®",
      start:"‡¶∂‡ßÅ‡¶∞‡ßÅ", pause:"‡¶¨‡¶ø‡¶∞‡¶§‡¶ø", lap:"‡¶≤‡ßç‡¶Ø‡¶æ‡¶™", reset:"‡¶∞‡¶ø‡¶∏‡ßá‡¶ü", export:"‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü",
      lapsLabel:"‡¶≤‡ßç‡¶Ø‡¶æ‡¶™", thN:"#", thSplit:"‡¶∏‡ßç‡¶™‡ßç‡¶≤‡¶ø‡¶ü", thTotal:"‡¶Æ‡ßã‡¶ü",
      alertMax:"‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß´‡¶ü‡¶ø ‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö‡•§", alertNoLaps:"‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™ ‡¶®‡ßá‡¶á‡•§",
      csvHeader:["Lap","Split","Total"],
      faq:"FAQ",
      q1:"‡ß´‡¶ü‡¶ø ‡¶∏‡ßç‡¶ü‡¶™‡¶ì‡¶Ø‡¶º‡¶æ‡¶ö ‡¶∏‡¶π ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßã?", a1:'<code>/time/stopwatch/?n=5</code> ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
      q2:"‡¶≤‡ßç‡¶Ø‡¶æ‡¶™ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶ï‡¶ø ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶π‡¶¨‡ßá?", a2:'‡¶π‡ßç‡¶Ø‡¶æ‡¶Å ‚Äî <b>‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü</b> ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá CSV (Lap, Split, Total) ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
      q3:"‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá?", a3:"‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶á ‡¶ö‡¶≤‡ßá, ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶á‡¶®-‡¶á‡¶® ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§",
      relTitle:"‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡¶ø‡¶§ ‡¶ü‡ßÅ‡¶≤‡¶∏",
      relText:'‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶Æ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞? ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® <a href="/time/countdown-timer/">‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶°‡¶æ‡¶â‡¶® ‡¶ü‡¶æ‡¶á‡¶Æ‡¶æ‡¶∞</a>‡•§ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶ó‡¶£‡¶®‡¶æ: <a href="/calculators/date-difference/">‡¶°‡ßá‡¶ü ‡¶°‡¶ø‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏</a>‡•§'
    },
    ng: null, // fallback to en
    sw: {
      metaTitle:"Kipima Muda ‚Äî Vipima Muda Vingi, Duru & Utoaji CSV | GoToolOnline",
      metaDesc:"Kipima muda mtandaoni bure hadi 5 sambamba. Anza/Sitisha, Duru, Weka upya na CSV. Nambari kubwa na njia za mkato.",
      back:"‚Üê Rudi Nyumbani",
      crumbHome:"Nyumbani", crumbTime:"Zana za Muda", crumbCur:"Kipima muda",
      h1:"Kipima muda (Hadi 5)",
      hero:'Endesha vipima muda huru vingi, na duru na uhamishaji CSV. Shiriki mpangilio kwa <code>?n=5</code>.',
      addOne:"Ongeza Kipima muda", addToFive:"Ongeza 4 Zaidi",
      kbdHint:'Kibodi (kadi imezingatiwa): <kbd>Space</kbd> Anza/Sitisha ¬∑ <kbd>L</kbd> Duru ¬∑ <kbd>R</kbd> Weka upya',
      cardTitle:"Kipima muda", remove:"Futa", removeTitle:"Futa kipima muda hiki",
      start:"Anza", pause:"Sitisha", lap:"Duru", reset:"Weka upya", export:"Pakua CSV",
      lapsLabel:"Duru", thN:"#", thSplit:"Mgawanyo", thTotal:"Jumla",
      alertMax:"Upeo ni vipima muda 5 pekee.", alertNoLaps:"Hakuna duru za kupakua.",
      csvHeader:["Lap","Split","Total"],
      faq:"Maswali ya Mara kwa Mara",
      q1:"Nifungue vipi na vipima muda 5?", a1:'Tembelea <code>/time/stopwatch/?n=5</code> na ushiriki kiungo.',
      q2:"Naweza kupakua nyakati za duru?", a2:'Ndiyo ‚Äî bonyeza <b>Pakua CSV</b> kupakua faili (Lap, Split, Total).',
      q3:"Hufanya kazi nje ya mtandao?", a3:"Mantiki inaendeshwa kwenye kivinjari chako. Hakuna kuingia.",
      relTitle:"Zana zinazohusiana",
      relText:'Unahitaji kengele? Jaribu <a href="/time/countdown-timer/">Kipima muda cha Ku-countdown</a>. Kwa tarehe, tazama <a href="/calculators/date-difference/">Tofauti ya Tarehe</a>.'
    },
    ar: {
      metaTitle:"ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ ‚Äî ŸÖÿ§ŸÇÿ™ÿßÿ™ ŸÖÿ™Ÿàÿßÿ≤Ÿäÿ©ÿå ŸÑŸÅŸëÿßÿ™ Ÿàÿ™ÿµÿØŸäÿ± CSV | GoToolOnline",
      metaDesc:"ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ ÿπÿ®ÿ± ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™ ÿ≠ÿ™Ÿâ 5 ŸÖÿ§ŸÇÿ™ÿßÿ™ ŸÖÿ™Ÿàÿßÿ≤Ÿäÿ©. ÿ®ÿØÿ°/ÿ•ŸäŸÇÿßŸÅ ŸÖÿ§ŸÇÿ™ÿå ŸÑŸÅŸëÿ©ÿå ÿ•ÿπÿßÿØÿ© ÿ∂ÿ®ÿ∑ Ÿàÿ™ÿµÿØŸäÿ± CSV. ÿ£ÿ±ŸÇÿßŸÖ ŸÉÿ®Ÿäÿ±ÿ© ŸàÿßÿÆÿ™ÿµÿßÿ±ÿßÿ™ ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠.",
      back:"‚Üê ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸâ ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
      crumbHome:"ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©", crumbTime:"ÿ£ÿØŸàÿßÿ™ ÿßŸÑŸàŸÇÿ™", crumbCur:"ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ",
      h1:"ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ (ÿ≠ÿ™Ÿâ 5)",
      hero:'ÿ¥ÿ∫ŸëŸÑ ÿπÿØÿ© ÿ≥ÿßÿπÿßÿ™ ÿ•ŸäŸÇÿßŸÅ ŸÖÿ≥ÿ™ŸÇŸÑÿ© ŸÖÿπ ÿßŸÑŸÑŸÅŸëÿßÿ™ Ÿàÿ™ÿµÿØŸäÿ± CSV. ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ™ÿÆÿ∑Ÿäÿ∑ ÿπÿ®ÿ± <code>?n=5</code>.',
      addOne:"ÿ•ÿ∂ÿßŸÅÿ© ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ", addToFive:"ÿ•ÿ∂ÿßŸÅÿ© 4 ÿ£ÿÆÿ±Ÿâ",
      kbdHint:'ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖŸÅÿßÿ™Ÿäÿ≠ (ÿπŸÜÿØ ÿ™ÿ±ŸÉŸäÿ≤ ÿßŸÑÿ®ÿ∑ÿßŸÇÿ©): <kbd>Space</kbd> ÿ®ÿØÿ°/ÿ•ŸäŸÇÿßŸÅ ŸÖÿ§ŸÇÿ™ ¬∑ <kbd>L</kbd> ŸÑŸÅŸëÿ© ¬∑ <kbd>R</kbd> ÿ•ÿπÿßÿØÿ© ÿ∂ÿ®ÿ∑',
      cardTitle:"ÿ≥ÿßÿπÿ© ÿ•ŸäŸÇÿßŸÅ", remove:"ÿ≠ÿ∞ŸÅ", removeTitle:"ÿ≠ÿ∞ŸÅ Ÿáÿ∞Ÿá ÿßŸÑÿ≥ÿßÿπÿ©",
      start:"ÿ®ÿØÿ°", pause:"ÿ•ŸäŸÇÿßŸÅ ŸÖÿ§ŸÇÿ™", lap:"ŸÑŸÅÿ©", reset:"ÿ•ÿπÿßÿØÿ© ÿ∂ÿ®ÿ∑", export:"ÿ™ÿµÿØŸäÿ±",
      lapsLabel:"ÿßŸÑŸÑŸÅŸëÿßÿ™", thN:"#", thSplit:"ÿßŸÑŸÅÿßÿµŸÑ", thTotal:"ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä",
      alertMax:"ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ 5 ÿ≥ÿßÿπÿßÿ™ ÿ•ŸäŸÇÿßŸÅ.", alertNoLaps:"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÑŸÅŸëÿßÿ™ ŸÑŸÑÿ™ÿµÿØŸäÿ±.",
      csvHeader:["Lap","Split","Total"],
      faq:"ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ¥ÿßÿ¶ÿπÿ©",
      q1:"ŸÉŸäŸÅ ÿ£ŸÅÿ™ÿ≠ ÿ®ŸÄ 5 ÿ≥ÿßÿπÿßÿ™ ÿ•ŸäŸÇÿßŸÅÿü", a1:'ÿßÿ∞Ÿáÿ® ÿ•ŸÑŸâ <code>/time/stopwatch/?n=5</code> Ÿàÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ±ÿßÿ®ÿ∑.',
      q2:"ŸáŸÑ ŸäŸÖŸÉŸÜ ÿ™ÿµÿØŸäÿ± ÿ£ÿ≤ŸÖŸÜÿ© ÿßŸÑŸÑŸÅŸëÿßÿ™ÿü", a2:'ŸÜÿπŸÖ ‚Äî ÿßŸÜŸÇÿ± <b>ÿ™ÿµÿØŸäÿ±</b> ŸÑÿ™ÿ≠ŸÖŸäŸÑ CSV (Lap, Split, Total).',
      q3:"ŸáŸÑ ÿ™ÿπŸÖŸÑ ÿØŸàŸÜ ÿßÿ™ÿµÿßŸÑÿü", a3:"ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ÿØÿßÿÆŸÑ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠. ŸÑÿß ÿ≠ÿßÿ¨ÿ© ŸÑÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ.",
      relTitle:"ÿ£ÿØŸàÿßÿ™ ÿ∞ÿßÿ™ ÿµŸÑÿ©",
      relText:'ÿ™ÿ±ŸäÿØ ŸÖÿ§ŸÇÿ™ ÿπÿØŸë ÿ™ŸÜÿßÿ≤ŸÑŸäÿü ÿ¨ÿ±Ÿëÿ® <a href="/time/countdown-timer/">ÿßŸÑÿπÿØŸëÿßÿØ ÿßŸÑÿ™ŸÜÿßÿ≤ŸÑŸä</a>. ŸÑÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ™Ÿàÿßÿ±ŸäÿÆÿå ÿßŸÜÿ∏ÿ± <a href="/calculators/date-difference/">ŸÅÿ±ŸÇ ÿßŸÑÿ™Ÿàÿßÿ±ŸäÿÆ</a>.'
    }
  };
  I18N.ng = I18N.en; // English (NG) fallback

  function getLang(){
    const u = new URL(location.href);
    return u.searchParams.get('lang') || localStorage.getItem('lang') || 'en';
  }

  function applyLang(lang){
    const t = I18N[lang] || I18N.en;
    window._t = t;

    document.documentElement.lang = HTML_LANG[lang] || 'en';
    document.documentElement.dir  = (lang === 'ar') ? 'rtl' : 'ltr';

    document.title = t.metaTitle;
    const md = document.querySelector('meta[name="description"]'); if (md) md.setAttribute('content', t.metaDesc);

    // Header & crumbs
    document.getElementById('backLink').textContent = t.back;
    document.getElementById('bcHome').textContent = t.crumbHome;
    document.getElementById('bcTime').textContent = t.crumbTime;
    document.getElementById('bcCurrent').textContent = t.crumbCur;

    // Main hero & toolbar
    document.getElementById('pageTitle').textContent = t.h1;
    document.getElementById('hero').innerHTML = t.hero;
    document.getElementById('addOne').textContent = t.addOne;
    document.getElementById('addToFive').textContent = t.addToFive;
    document.getElementById('kbHint').innerHTML = t.kbdHint;

    // FAQ & related
    document.getElementById('faq-h2').textContent = t.faq;
    document.getElementById('q1').textContent = t.q1; document.getElementById('a1').innerHTML = t.a1;
    document.getElementById('q2').textContent = t.q2; document.getElementById('a2').innerHTML = t.a2;
    document.getElementById('q3').textContent = t.q3; document.getElementById('a3').textContent  = t.a3;
    document.getElementById('relTitle').textContent = t.relTitle;
    document.getElementById('relText').innerHTML = t.relText;

    // Existing cards text refresh
    document.querySelectorAll('.title strong').forEach((el, idx)=>{
      const id = el.dataset.sid || (idx+1);
      el.textContent = `${t.cardTitle} #${id}`;
    });
    document.querySelectorAll('.btn-remove').forEach(el=>{ el.textContent = t.remove; el.title = t.removeTitle; });
    document.querySelectorAll('.btn-start').forEach(el=>{
      // keep Start/Pause state; if currently "Pause" use t.pause
      el.textContent = el.dataset.state === 'pause' ? t.pause : t.start;
    });
    document.querySelectorAll('.btn-lap').forEach(el=> el.textContent = t.lap);
    document.querySelectorAll('.btn-reset').forEach(el=> el.textContent = t.reset);
    document.querySelectorAll('.btn-export').forEach(el=> el.textContent = t.export);
    document.querySelectorAll('.laps-label').forEach(el=> el.setAttribute('aria-label', t.lapsLabel));
    document.querySelectorAll('thead').forEach(head=>{
      const th = head.querySelectorAll('th');
      if (th[0]) th[0].textContent = t.thN;
      if (th[1]) th[1].textContent = t.thSplit;
      if (th[2]) th[2].textContent = t.thTotal;
    });

    // persist & sync URL ?lang
    localStorage.setItem('lang', lang);
    const url = new URL(location.href);
    url.searchParams.set('lang', lang);
    history.replaceState({}, '', url.pathname + '?' + url.searchParams.toString());
  }

  const langSel = document.getElementById('lang');
  const curLang = getLang();
  langSel.value = I18N[curLang] ? curLang : 'en';
  applyLang(langSel.value);
  langSel.addEventListener('change', ()=> applyLang(langSel.value));
</script>

<script>
  // ------- Stopwatch logic (with i18n alerts & labels) -------
  const MAX_SW = 5;
  const state = []; // [{id, running, elapsed, last, laps:[{n,time,split}], raf, el}]
  let idSeq = 1;
  const wrap = document.getElementById('wrap');

  function fmt(ms){
    ms = Math.max(0, ms|0);
    const cs = Math.floor((ms % 1000) / 10);
    const s  = Math.floor(ms / 1000) % 60;
    const m  = Math.floor(ms / 60000) % 60;
    const h  = Math.floor(ms / 3600000);
    const HH = String(h).padStart(2,'0');
    const MM = String(m).padStart(2,'0');
    const SS = String(s).padStart(2,'0');
    const CS = String(cs).padStart(2,'0');
    return `${HH}:${MM}:${SS}.${CS}`;
  }

  function createCard(){
    const t = window._t || I18N.en;
    if (state.length >= MAX_SW) { alert(t.alertMax); return; }
    const id = idSeq++;
    const el = document.createElement('div');
    el.className = 'sw';
    el.tabIndex = 0; // focusable for keyboard
    el.innerHTML = `
      <div class="title">
        <strong data-sid="${id}">${t.cardTitle} #${id}</strong>
        <button class="btn-remove" data-act="remove" title="${t.removeTitle}">${t.remove}</button>
      </div>
      <div class="time" data-role="time" aria-live="polite">00:00:00.00</div>
      <div class="controls" role="group" aria-label="Controls">
        <button class="btn-start" data-act="start">${t.start}</button>
        <button class="btn-lap" data-act="lap" disabled>${t.lap}</button>
        <button class="btn-reset" data-act="reset" disabled>${t.reset}</button>
        <button class="btn-export" data-act="export" disabled title="Export laps to CSV">${t.export}</button>
      </div>
      <div class="laplist">
        <table aria-label="${t.lapsLabel}" class="laps-label">
          <thead><tr><th>${t.thN}</th><th>${t.thSplit}</th><th>${t.thTotal}</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    `;
    wrap.appendChild(el);

    const st = {
      id,
      running:false,
      elapsed:0, last:0,
      laps:[],
      raf:null,
      el
    };
    state.push(st);
    wireCard(st);
    return st;
  }

  function wireCard(st){
    const t = window._t || I18N.en;
    const timeEl = st.el.querySelector('[data-role="time"]');
    const btnStart = st.el.querySelector('button[data-act="start"]');
    const btnLap = st.el.querySelector('button[data-act="lap"]');
    const btnReset = st.el.querySelector('button[data-act="reset"]');
    const btnExport = st.el.querySelector('button[data-act="export"]');
    const btnRemove = st.el.querySelector('button[data-act="remove"]');
    const tbody = st.el.querySelector('tbody');

    function updateView(ms){ timeEl.textContent = fmt(ms); }

    function tick(now){
      if (!st.running){ st.raf = null; return; }
      if (!st.last) st.last = now;
      const dt = now - st.last;
      st.last = now;
      st.elapsed += dt;
      updateView(st.elapsed);
      st.raf = requestAnimationFrame(tick);
    }

    function start(){
      if (st.running) return;
      st.running = true;
      btnStart.textContent = (window._t || I18N.en).pause;
      btnStart.dataset.state = 'pause';
      btnLap.disabled = false;
      btnReset.disabled = false;
      btnExport.disabled = st.laps.length === 0;
      st.last = performance.now();
      st.raf = requestAnimationFrame(tick);
    }

    function pause(){
      if (!st.running) return;
      st.running = false;
      btnStart.textContent = (window._t || I18N.en).start;
      btnStart.dataset.state = 'start';
      if (st.raf){ cancelAnimationFrame(st.raf); st.raf = null; }
    }

    function toggle(){ st.running ? pause() : start(); }

    function reset(){
      pause();
      st.elapsed = 0;
      st.laps = [];
      tbody.innerHTML = '';
      updateView(0);
      btnLap.disabled = true;
      btnReset.disabled = true;
      btnExport.disabled = true;
    }

    function lap(){
      const n = st.laps.length + 1;
      const split = st.laps.length ? st.elapsed - st.laps[st.laps.length-1].time : st.elapsed;
      st.laps.push({ n, time: st.elapsed, split });
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${n}</td><td>${fmt(split)}</td><td>${fmt(st.elapsed)}</td>`;
      tbody.prepend(tr);
      btnExport.disabled = false;
    }

    function exportCSV(){
      const t = window._t || I18N.en;
      if (!st.laps.length){ alert(t.alertNoLaps); return; }
      const header = t.csvHeader || ["Lap","Split","Total"];
      let csv = header.join(',') + '\n';
      const arr = [...st.laps].sort((a,b)=>a.n-b.n);
      arr.forEach(x=> csv += `${x.n},${fmt(x.split)},${fmt(x.time)}\n`);
      const blob = new Blob([csv], {type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `stopwatch_${st.id}_laps.csv`;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }

    // Button events
    btnStart.addEventListener('click', toggle);
    btnLap.addEventListener('click', lap);
    btnReset.addEventListener('click', reset);
    btnExport.addEventListener('click', exportCSV);
    btnRemove.addEventListener('click', ()=>{
      pause();
      const idx = state.findIndex(x=>x.id===st.id);
      if (idx>=0) state.splice(idx,1);
      st.el.remove();
    });

    // Keyboard shortcuts (card must be focused)
    st.el.addEventListener('keydown', (e)=>{
      const k = e.key.toLowerCase();
      if (k === ' ' || k === 'spacebar'){ e.preventDefault(); toggle(); }
      if (k === 'l'){ e.preventDefault(); if (!btnLap.disabled) lap(); }
      if (k === 'r'){ e.preventDefault(); reset(); }
    });

    updateView(0);
  }

  // Toolbar actions
  document.getElementById('addOne').addEventListener('click', ()=> createCard());
  document.getElementById('addToFive').addEventListener('click', ()=>{
    while (state.length < MAX_SW) createCard();
  });

  // Boot: from URL ?n=5
  (function boot(){
    const n = Math.max(1, Math.min(MAX_SW, parseInt(new URLSearchParams(location.search).get('n')||'1',10)));
    for (let i=0;i<n;i++) createCard();
  })();
</script>

<!-- ‰øùÁïô‰Ω†ÂéüÊù•ÁöÑ Home ÈìæÊé•Ëß£ÊûêÔºåÂπ∂ÁªßÁª≠ÈÄè‰º† ?lang -->
<script>
(function(){
  // Compute site root by removing the last two segments (category/tool)
  var path = location.pathname.replace(/\/+$/,''); // strip trailing slashes
  var parts = path.split('/');
  if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
  else parts = ['']; // already at root
  var home = parts.join('/') + '/';

  // preserve ?lang if present
  var cur = new URL(location.href);
  var lang = cur.searchParams.get('lang');
  if (lang) {
    var u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    home = u.pathname + u.search + u.hash;
  }

  document.querySelectorAll('a[data-home]').forEach(function(a){
    a.setAttribute('href', home);
  });
})();
</script>
</body>
</html>
