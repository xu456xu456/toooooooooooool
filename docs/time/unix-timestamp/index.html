<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Unix Timestamp Converter ‚Äî Epoch ‚Üî Local &amp; UTC Time | GoToolOnline</title>
<meta name="description" content="Free Unix timestamp converter. Convert epoch seconds or milliseconds to Local/UTC time and back. Auto-detect 10/13-digit input, copy-ready outputs, URL sharing. Works offline."/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"/>

<meta property="og:type" content="website"/>
<meta property="og:title" content="Unix Timestamp Converter ‚Äî Epoch ‚Üî Local &amp; UTC Time"/>
<meta property="og:description" content="Convert Unix epoch (seconds or milliseconds) to Local/UTC and vice versa. Copy-ready. Works offline."/>
<meta property="og:url" content="https://gotoolonline.com/time/unix-timestamp/"/>
<meta name="twitter:card" content="summary"/>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text x='2' y='14' font-size='14'>üï∞Ô∏è</text></svg>"/>
<!-- Structured Data -->
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebApplication","name":"Unix Timestamp Converter","applicationCategory":"DeveloperApplication","operatingSystem":"Web","url":"https://gotoolonline.com/time/unix-timestamp/","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"publisher":{"@type":"Organization","name":"GoToolOnline","url":"https://gotoolonline.com"}}
</script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://gotoolonline.com/"},{"@type":"ListItem","position":2,"name":"Time Tools","item":"https://gotoolonline.com/time/"},{"@type":"ListItem","position":3,"name":"Unix Timestamp Converter","item":"https://gotoolonline.com/time/unix-timestamp/"}]}
</script>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[
{"@type":"Question","name":"Is input in seconds or milliseconds?","acceptedAnswer":{"@type":"Answer","text":"Choose Seconds or Milliseconds, or leave on Auto. Auto detects 10-digit (seconds) and 13-digit (milliseconds) timestamps."}},
{"@type":"Question","name":"Does it work offline?","acceptedAnswer":{"@type":"Answer","text":"Yes. Everything runs in your browser; no network calls are used."}},
{"@type":"Question","name":"How do I convert a date to Unix time?","acceptedAnswer":{"@type":"Answer","text":"Pick a date and time, choose Local or UTC, then click Convert. Both seconds and milliseconds outputs are provided."}},
{"@type":"Question","name":"Can I share a pre-filled link?","acceptedAnswer":{"@type":"Answer","text":"Yes. The tool updates the URL as you type, e.g. ?ts=1734500000&unit=s or ?date=2025-01-01&time=00:00:00&zone=utc."}}
]}
</script>
<style>
  :root{--bg:#0a0f1e;--card:#0f1830;--fg:#eaf3ff;--muted:#9fb0c3;--acc:#4fb3ff}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
  header{max-width:900px;margin:18px auto 8px;display:flex;gap:10px;align-items:center;padding:0 16px}
  header a{color:var(--fg);text-decoration:none}
  .pill{padding:8px 12px;border:1px solid #24365b;background:#0f1a2f;border-radius:999px;white-space:nowrap}
  .lang{margin-left:auto;padding:8px 10px;border:1px solid #24365b;background:#0f1a2f;border-radius:10px;color:#eaf3ff;font-size:14px}
  main{max-width:900px;margin:8px auto 72px;padding:0 16px}
  nav.breadcrumb{font-size:14px;color:var(--muted);margin-bottom:6px}
  nav.breadcrumb a{color:var(--muted)}
  .card{background:var(--card);border:1px solid #1a2843;border-radius:18px;padding:16px;margin:12px 0}
  h1{margin:4px 0 8px 0}
  input,select,button,textarea{padding:14px;border-radius:12px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff;font-size:16px}
  button{cursor:pointer;font-weight:800}
  button.primary{background:linear-gradient(180deg,#2a78ff,#0050d4);border:none}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .muted{color:var(--muted)}
  .out{font-size:20px;font-weight:800}
  .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
  .help{font-size:14px;color:#9fb0c3;margin-top:6px}
  .linkrow a{display:inline-block;margin-right:10px;color:#cfe6ff;text-decoration:none;border-bottom:1px dashed #2a78ff}
  .linkrow a:hover{color:#fff;border-bottom-color:#4fb3ff}
  .badge{display:inline-block;margin-left:8px;padding:2px 8px;border-radius:999px;background:#0c1426;border:1px solid #2a3c64;font-size:12px}
  @media (max-width:800px){ .grid{grid-template-columns:1fr} }
  @media print{ header,nav.breadcrumb,.linkrow,.lang{display:none !important} body{background:#fff;color:#000} .card{border:none} }
</style>

  
  <link rel="alternate" hreflang="en" href="https://gotoolonline.com/time/unix-timestamp/"/>
  <link rel="alternate" hreflang="x-default" href="https://gotoolonline.com/time/unix-timestamp/"/>

<link rel="canonical" href="https://gotoolonline.com/time/unix-timestamp/">
</head>
<body>
<header>
  <a class="pill" data-home href="#">üõ† GoToolOnline</a>
  <a class="pill" id="backHome" data-home href="#">‚Üê Back to Home</a>
  <select id="lang" class="lang" aria-label="Language">
    <option value="en">English</option>
    <option value="zh">ÁÆÄ‰Ωì‰∏≠Êñá</option>
    <option value="ph">Tagalog</option>
    <option value="id">Bahasa Indonesia</option>
    <option value="vi">Ti·∫øng Vi·ªát</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    <option value="ng">English (NG)</option>
    <option value="sw">Kiswahili</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  </select>
</header>

<main>
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a id="bcHome" data-home href="#">Home</a> ‚Ä∫ <a id="bcTime" href="/time/">Time Tools</a> ‚Ä∫ <strong id="bcCur">Unix Timestamp Converter</strong>
</nav>

<section class="card">
  <h1 id="h1">Unix Timestamp Converter</h1>
  <p id="hero" class="muted">Convert <b>Unix epoch</b> (seconds or milliseconds) ‚Üî <b>Local / UTC</b>. Auto-detect 10/13-digit input. Works fully offline.</p>

  <div class="grid" role="region" aria-label="Converters">
    <!-- Epoch -> Date -->
    <div class="card" aria-labelledby="h-ep2dt">
      <h2 id="h-ep2dt" style="margin:0 0 8px">Epoch ‚Üí Date</h2>

      <div class="row" role="group" aria-label="Epoch input">
        <label class="mono" for="ts" style="display:none">Unix timestamp</label>
        <input id="ts" class="mono" inputmode="numeric" placeholder="e.g. 1734500000 or 1734500000000" style="flex:1" aria-describedby="tsHelp"/>
        <label for="unit" style="display:none">Unit</label>
        <select id="unit" aria-label="Unit">
          <option value="auto" selected>Auto</option>
          <option value="s">Seconds (10 digits)</option>
          <option value="ms">Milliseconds (13 digits)</option>
        </select>
        <button id="now" class="primary" aria-label="Insert current epoch">Now</button>
      </div>
      <div class="help" id="tsHelp">Tip: Auto detects 10-digit seconds and 13-digit milliseconds. Use Unit to override.</div>

      <!-- Preferred first (only visible if current language has a preferred zone) -->
      <div id="prefWrap" style="margin-top:10px;display:none">
        <div class="muted"><span id="prefLabel">Preferred</span><span class="badge" id="prefBadge"></span></div>
        <div id="pref" class="out mono" aria-live="polite">‚Äî</div>
      </div>

      <div style="margin-top:10px">
        <div class="muted" id="lblLocal">Local</div>
        <div id="local" class="out mono" aria-live="polite">‚Äî</div>
      </div>
      <div style="margin-top:10px">
        <div class="muted" id="lblUTC">UTC</div>
        <div id="utc" class="out mono" aria-live="polite">‚Äî</div>
      </div>

      <div class="row" style="margin-top:10px">
        <button id="copyPref" style="display:none" title="Copy preferred date/time">Copy Preferred</button>
        <button id="copyLocal" title="Copy local date/time">Copy Local</button>
        <button id="copyUTC" title="Copy UTC date/time">Copy UTC</button>
      </div>
    </div>

    <!-- Date -> Epoch -->
    <div class="card" aria-labelledby="h-dt2ep">
      <h2 id="h-dt2ep" style="margin:0 0 8px">Date ‚Üí Epoch</h2>
      <div class="row" role="group" aria-label="Date-time input">
        <label for="date" style="display:none">Date</label>
        <input id="date" type="date"/>
        <label for="time" style="display:none">Time</label>
        <input id="time" type="time" step="1"/>
        <label for="zone" style="display:none">Zone</label>
        <select id="zone" aria-label="Zone">
          <!-- preferred option injected dynamically when available -->
          <option value="local">Local</option>
          <option value="utc">UTC</option>
        </select>
      </div>
      <div class="row" style="margin-top:10px">
        <button id="toEpoch" class="primary">Convert</button>
        <button id="fillNow" title="Fill current local date/time">Fill Now</button>
      </div>
      <div style="margin-top:10px">
        <div class="muted" id="lblSec">Seconds</div>
        <div id="sec" class="out mono" aria-live="polite">‚Äî</div>
      </div>
      <div style="margin-top:10px">
        <div class="muted" id="lblMs">Milliseconds</div>
        <div id="msec" class="out mono" aria-live="polite">‚Äî</div>
      </div>
      <div class="row" style="margin-top:10px">
        <button id="copySec">Copy Seconds</button>
        <button id="copyMs">Copy Milliseconds</button>
      </div>
    </div>
  </div>

  <div class="linkrow help" style="margin-top:12px">
    <span id="rel">Related tools:</span>
    <a href="/time/timezone-converter/">Time Zone Converter</a>
    <a href="/time/countdown-timer/">Countdown Timer</a>
    <a href="/time/stopwatch/">Stopwatch</a>
  </div>
</section>
</main>

<script>
/* ---------- i18n (9 languages) + preferred zones ---------- */
const I18N = {
  en:{title:"Unix Timestamp Converter ‚Äî Epoch ‚Üî Local & UTC Time | GoToolOnline",
      desc:"Free Unix timestamp converter. Convert epoch seconds or milliseconds to Local/UTC time and back. Auto-detect 10/13-digit input, copy-ready outputs, URL sharing. Works offline.",
      back:"‚Üê Back to Home",
      bcHome:"Home", bcTime:"Time Tools", bcCur:"Unix Timestamp Converter",
      h1:"Unix Timestamp Converter",
      hero:"Convert <b>Unix epoch</b> (seconds or milliseconds) ‚Üî <b>Local / UTC</b>. Auto-detect 10/13-digit input. Works fully offline.",
      ep2dt:"Epoch ‚Üí Date", dt2ep:"Date ‚Üí Epoch",
      phTS:"e.g. 1734500000 or 1734500000000",
      unitAuto:"Auto", unitS:"Seconds (10 digits)", unitMS:"Milliseconds (13 digits)",
      now:"Now", tip:"Tip: Auto detects 10-digit seconds and 13-digit milliseconds. Use Unit to override.",
      preferred:"Preferred", local:"Local", utc:"UTC",
      copyPref:"Copy Preferred", copyLocal:"Copy Local", copyUTC:"Copy UTC",
      date:"Date", time:"Time", zone:"Zone",
      zonePref:"Preferred", zoneLocal:"Local", zoneUTC:"UTC",
      convert:"Convert", fill:"Fill Now",
      seconds:"Seconds", milliseconds:"Milliseconds",
      copySec:"Copy Seconds", copyMs:"Copy Milliseconds",
      related:"Related tools:",
      alertPickDate:"Pick a date", alertInvalid:"Invalid date/time"},
  zh:{title:"Unix Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô® ‚Äî Epoch ‚Üî Êú¨Âú∞/UTC | GoToolOnline",
      desc:"ÂÖçË¥π Unix Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô®„ÄÇÁßí/ÊØ´Áßí ‚Üî Êú¨Âú∞/UTC ‰∫íËΩ¨„ÄÇËá™Âä®ËØÜÂà´ 10/13 ‰ΩçËæìÂÖ•ÔºåÁªìÊûúÂèØÂ§çÂà∂ÔºåÊîØÊåÅ URL ÂÖ±‰∫´ÔºåÁ¶ªÁ∫øÂèØÁî®„ÄÇ",
      back:"‚Üê ËøîÂõûÈ¶ñÈ°µ",
      bcHome:"È¶ñÈ°µ", bcTime:"Êó∂Èó¥Â∑•ÂÖ∑", bcCur:"Unix Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô®",
      h1:"Unix Êó∂Èó¥Êà≥ËΩ¨Êç¢Âô®",
      hero:"Â∞Ü <b>Unix epoch</b>ÔºàÁßí/ÊØ´ÁßíÔºâ‰∏é <b>Êú¨Âú∞ / UTC</b> ‰∫íÁõ∏ËΩ¨Êç¢„ÄÇËá™Âä®ËØÜÂà´ 10/13 ‰ΩçËæìÂÖ•ÔºåÂÆåÂÖ®Á¶ªÁ∫øËøêË°å„ÄÇ",
      ep2dt:"Epoch ‚Üí Êó•Êúü/Êó∂Èó¥", dt2ep:"Êó•Êúü/Êó∂Èó¥ ‚Üí Epoch",
      phTS:"Â¶Ç 1734500000 Êàñ 1734500000000",
      unitAuto:"Ëá™Âä®", unitS:"ÁßíÔºà10 ‰ΩçÔºâ", unitMS:"ÊØ´ÁßíÔºà13 ‰ΩçÔºâ",
      now:"Ê≠§Âàª", tip:"ÊèêÁ§∫ÔºöËá™Âä®ËØÜÂà´ 10 ‰ΩçÁßí„ÄÅ13 ‰ΩçÊØ´ÁßíÔºõ‰πüÂèØÂú®Âçï‰Ωç‰∏≠ÊâãÂä®ÊåáÂÆö„ÄÇ",
      preferred:"‰ºòÂÖàÔºàËØ≠Ë®ÄÂú∞Âå∫Ôºâ", local:"Êú¨Âú∞", utc:"UTC",
      copyPref:"Â§çÂà∂‰ºòÂÖàÊó∂Èó¥", copyLocal:"Â§çÂà∂Êú¨Âú∞Êó∂Èó¥", copyUTC:"Â§çÂà∂ UTC",
      date:"Êó•Êúü", time:"Êó∂Èó¥", zone:"Êó∂Âå∫",
      zonePref:"‰ºòÂÖà", zoneLocal:"Êú¨Âú∞", zoneUTC:"UTC",
      convert:"ËΩ¨Êç¢", fill:"Â°´ÂÖ•ÂΩìÂâç", seconds:"Áßí", milliseconds:"ÊØ´Áßí",
      copySec:"Â§çÂà∂Áßí", copyMs:"Â§çÂà∂ÊØ´Áßí", related:"Áõ∏ÂÖ≥Â∑•ÂÖ∑Ôºö",
      alertPickDate:"ËØ∑ÂÖàÈÄâÊã©Êó•Êúü", alertInvalid:"Êó•Êúü/Êó∂Èó¥Êó†Êïà"},
  ph:{title:"Unix Timestamp Converter ‚Äî Epoch ‚Üî Lokal/UTC | GoToolOnline",
      desc:"Libreng Unix timestamp converter. I-convert ang epoch (segundo/ms) sa Lokal/UTC at pabalik. Auto-detect 10/13-digit, copy-ready, URL share, offline.",
      back:"‚Üê Balik sa Home",
      bcHome:"Home", bcTime:"Mga Tool sa Oras", bcCur:"Unix Timestamp Converter",
      h1:"Unix Timestamp Converter",
      hero:"I-convert ang <b>Unix epoch</b> (segundo o millisecond) ‚Üî <b>Lokal / UTC</b>. Auto-detect 10/13-digit. Gumagana offline.",
      ep2dt:"Epoch ‚Üí Petsa/Oras", dt2ep:"Petsa/Oras ‚Üí Epoch",
      phTS:"hal. 1734500000 o 1734500000000",
      unitAuto:"Auto", unitS:"Segundos (10 digit)", unitMS:"Milliseconds (13 digit)",
      now:"Ngayon", tip:"Tip: Auto 10/13-digit; puwedeng i-override sa Unit.",
      preferred:"Preferred", local:"Lokal", utc:"UTC",
      copyPref:"Kopyahin Preferred", copyLocal:"Kopyahin Lokal", copyUTC:"Kopyahin UTC",
      date:"Petsa", time:"Oras", zone:"Zone",
      zonePref:"Preferred", zoneLocal:"Lokal", zoneUTC:"UTC",
      convert:"I-convert", fill:"Ilagay Ngayon",
      seconds:"Segundos", milliseconds:"Milliseconds",
      copySec:"Kopyahin Segundos", copyMs:"Kopyahin Milliseconds",
      related:"Kaugnay na tools:", alertPickDate:"Pumili ng petsa", alertInvalid:"Di-wastong petsa/oras"},
  id:{title:"Konverter Timestamp Unix ‚Äî Epoch ‚Üî Lokal & UTC | GoToolOnline",
      desc:"Konverter timestamp Unix gratis. Ubah epoch (detik/ms) ke Lokal/UTC dan sebaliknya. Deteksi 10/13 digit, salin cepat, URL, offline.",
      back:"‚Üê Kembali",
      bcHome:"Beranda", bcTime:"Alat Waktu", bcCur:"Konverter Timestamp Unix",
      h1:"Konverter Timestamp Unix",
      hero:"Ubah <b>Unix epoch</b> (detik atau milidetik) ‚Üî <b>Lokal / UTC</b>. Deteksi otomatis 10/13 digit. Offline.",
      ep2dt:"Epoch ‚Üí Tanggal", dt2ep:"Tanggal ‚Üí Epoch",
      phTS:"mis. 1734500000 atau 1734500000000",
      unitAuto:"Otomatis", unitS:"Detik (10 digit)", unitMS:"Milidetik (13 digit)",
      now:"Sekarang", tip:"Tip: Otomatis 10/13 digit; bisa ubah di Unit.",
      preferred:"Preferensi", local:"Lokal", utc:"UTC",
      copyPref:"Salin Preferensi", copyLocal:"Salin Lokal", copyUTC:"Salin UTC",
      date:"Tanggal", time:"Waktu", zone:"Zona",
      zonePref:"Preferensi", zoneLocal:"Lokal", zoneUTC:"UTC",
      convert:"Konversi", fill:"Isi Sekarang",
      seconds:"Detik", milliseconds:"Milidetik",
      copySec:"Salin Detik", copyMs:"Salin Milidetik",
      related:"Alat terkait:", alertPickDate:"Pilih tanggal", alertInvalid:"Tanggal/waktu tidak valid"},
  vi:{title:"B·ªô ƒë·ªïi d·∫•u th·ªùi gian Unix ‚Äî Epoch ‚Üî C·ª•c b·ªô & UTC | GoToolOnline",
      desc:"Chuy·ªÉn ƒë·ªïi epoch Unix (gi√¢y/ms) sang C·ª•c b·ªô/UTC v√† ng∆∞·ª£c l·∫°i. T·ª± nh·∫≠n 10/13 ch·ªØ s·ªë, sao ch√©p nhanh, chia s·∫ª URL, offline.",
      back:"‚Üê V·ªÅ trang ch·ªß",
      bcHome:"Trang ch·ªß", bcTime:"C√¥ng c·ª• Th·ªùi gian", bcCur:"B·ªô ƒë·ªïi Unix Timestamp",
      h1:"B·ªô ƒë·ªïi Unix Timestamp",
      hero:"ƒê·ªïi <b>Unix epoch</b> (gi√¢y ho·∫∑c mili-gi√¢y) ‚Üî <b>C·ª•c b·ªô / UTC</b>. T·ª± nh·∫≠n 10/13 ch·ªØ s·ªë. Ho·∫°t ƒë·ªông offline.",
      ep2dt:"Epoch ‚Üí Ng√†y/Gi·ªù", dt2ep:"Ng√†y/Gi·ªù ‚Üí Epoch",
      phTS:"vd. 1734500000 ho·∫∑c 1734500000000",
      unitAuto:"T·ª± ƒë·ªông", unitS:"Gi√¢y (10 s·ªë)", unitMS:"Mili-gi√¢y (13 s·ªë)",
      now:"B√¢y gi·ªù", tip:"M·∫πo: T·ª± nh·∫≠n 10/13 s·ªë; c√≥ th·ªÉ ch·ªânh ·ªü ƒê∆°n v·ªã.",
      preferred:"∆Øu ti√™n", local:"C·ª•c b·ªô", utc:"UTC",
      copyPref:"Sao ch√©p ∆Øu ti√™n", copyLocal:"Sao ch√©p C·ª•c b·ªô", copyUTC:"Sao ch√©p UTC",
      date:"Ng√†y", time:"Gi·ªù", zone:"M√∫i gi·ªù",
      zonePref:"∆Øu ti√™n", zoneLocal:"C·ª•c b·ªô", zoneUTC:"UTC",
      convert:"Chuy·ªÉn ƒë·ªïi", fill:"ƒêi·ªÅn hi·ªán t·∫°i",
      seconds:"Gi√¢y", milliseconds:"Mili-gi√¢y",
      copySec:"Sao ch√©p Gi√¢y", copyMs:"Sao ch√©p Mili-gi√¢y",
      related:"C√¥ng c·ª• li√™n quan:", alertPickDate:"Ch·ªçn ng√†y", alertInvalid:"Ng√†y/gi·ªù kh√¥ng h·ª£p l·ªá"},
  bn:{title:"‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡¶æ‡¶∞ ‚Äî Epoch ‚Üî ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤/UTC | GoToolOnline",
      desc:"‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡¶æ‡¶∞‡•§ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°/‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‚Üî ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤/UTC‡•§ 10/13 ‡¶Ö‡¶Ç‡¶ï ‡¶Ö‡¶ü‡ßã-‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡ßç‡¶ü, ‡¶ï‡¶™‡¶ø ‡¶∏‡¶π‡¶ú, URL ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞, ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡•§",
      back:"‚Üê ‡¶π‡ßã‡¶Æ‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®",
      bcHome:"‡¶π‡ßã‡¶Æ", bcTime:"‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ü‡ßÅ‡¶≤‡¶∏", bcCur:"‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡¶æ‡¶∞",
      h1:"‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü‡¶æ‡¶∞",
      hero:"<b>‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßç‡¶∏ epoch</b> (‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°/‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ‚Üî <b>‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ / UTC</b> ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞‡•§ 10/13 ‡¶Ö‡¶Ç‡¶ï ‡¶Ö‡¶ü‡ßã-‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡ßç‡¶ü‡•§ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡•§",
      ep2dt:"Epoch ‚Üí ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ/‡¶∏‡¶Æ‡¶Ø‡¶º", dt2ep:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ/‡¶∏‡¶Æ‡¶Ø‡¶º ‚Üí Epoch",
      phTS:"‡¶Ø‡ßá‡¶Æ‡¶® 1734500000 ‡¶¨‡¶æ 1734500000000",
      unitAuto:"‡¶Ö‡¶ü‡ßã", unitS:"‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° (10 ‡¶Ö‡¶Ç‡¶ï)", unitMS:"‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° (13 ‡¶Ö‡¶Ç‡¶ï)",
      now:"‡¶è‡¶ñ‡¶®", tip:"‡¶á‡¶ô‡ßç‡¶ó‡¶ø‡¶§: 10/13 ‡¶Ö‡¶Ç‡¶ï ‡¶Ö‡¶ü‡ßã; ‡¶á‡¶â‡¶®‡¶ø‡¶ü‡ßá ‡¶¨‡¶¶‡¶≤‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§",
      preferred:"‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞", local:"‡¶≤‡ßã‡¶ï‡¶æ‡¶≤", utc:"UTC",
      copyPref:"‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶™‡¶ø", copyLocal:"‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶ï‡¶™‡¶ø", copyUTC:"UTC ‡¶ï‡¶™‡¶ø",
      date:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ", time:"‡¶∏‡¶Æ‡¶Ø‡¶º", zone:"‡¶ú‡ßã‡¶®",
      zonePref:"‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞", zoneLocal:"‡¶≤‡ßã‡¶ï‡¶æ‡¶≤", zoneUTC:"UTC",
      convert:"‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞", fill:"‡¶è‡¶ñ‡¶® ‡¶¨‡¶∏‡¶æ‡¶®",
      seconds:"‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°", milliseconds:"‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°",
      copySec:"‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ï‡¶™‡¶ø", copyMs:"‡¶Æ‡¶ø‡¶≤‡¶ø‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ï‡¶™‡¶ø",
      related:"‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡¶ø‡¶§ ‡¶ü‡ßÅ‡¶≤‡¶∏:", alertPickDate:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®", alertInvalid:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ/‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶Ø‡¶º"},
  ng:null, // fallback en
  sw:{title:"Kigeuzi cha Timestamp ya Unix ‚Äî Epoch ‚Üî Ndani & UTC | GoToolOnline",
      desc:"Kigeuzi cha Unix bila malipo. Badilisha epoch (sekunde/ms) hadi Ndani/UTC na kurudi. Hutambua 10/13 tarakimu, kunakili kwa urahisi, URL, offline.",
      back:"‚Üê Rudi Nyumbani",
      bcHome:"Nyumbani", bcTime:"Zana za Muda", bcCur:"Kigeuzi cha Unix Timestamp",
      h1:"Kigeuzi cha Unix Timestamp",
      hero:"Badilisha <b>Unix epoch</b> (sekunde au milisekunde) ‚Üî <b>Ndani / UTC</b>. Hutambua kiotomatiki 10/13 tarakimu. Hufanya kazi offline.",
      ep2dt:"Epoch ‚Üí Tarehe/Saa", dt2ep:"Tarehe/Saa ‚Üí Epoch",
      phTS:"mf. 1734500000 au 1734500000000",
      unitAuto:"Otomatiki", unitS:"Sekunde (tarakimu 10)", unitMS:"Milisekunde (tarakimu 13)",
      now:"Sasa", tip:"Dokezo: Hutambua 10/13; unaweza kubadili kwenye Kitengo.",
      preferred:"Pendekezwa", local:"Ndani", utc:"UTC",
      copyPref:"Nakili Pendekezwa", copyLocal:"Nakili Ndani", copyUTC:"Nakili UTC",
      date:"Tarehe", time:"Saa", zone:"Kanda",
      zonePref:"Pendekezwa", zoneLocal:"Ndani", zoneUTC:"UTC",
      convert:"Badilisha", fill:"Jaza Sasa",
      seconds:"Sekunde", milliseconds:"Milisekunde",
      copySec:"Nakili Sekunde", copyMs:"Nakili Milisekunde",
      related:"Zana zinazohusiana:", alertPickDate:"Chagua tarehe", alertInvalid:"Tarehe/saa si halali"},
  ar:{title:"ŸÖÿ≠ŸàŸÑ ÿ∑ÿßÿ®ÿπ ŸäŸàŸÜŸÉÿ≥ ‚Äî Epoch ‚Üî ÿßŸÑŸÖÿ≠ŸÑŸä ŸàUTC | GoToolOnline",
      desc:"ŸÖÿ≠ŸàŸÑ ÿ∑ÿßÿ®ÿπ ŸäŸàŸÜŸÉÿ≥ ŸÖÿ¨ÿßŸÜŸä. ÿ≠ŸàŸëŸÑ ÿßŸÑÿ´ŸàÿßŸÜŸä/ÿßŸÑŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ© ‚Üî ÿßŸÑŸÖÿ≠ŸÑŸä/UTC. ŸäŸÉÿ™ÿ¥ŸÅ 10/13 ÿ±ŸÇŸÖŸãÿß ÿ™ŸÑŸÇÿßÿ¶ŸäŸãÿßÿå ŸÜÿ≥ÿÆ ÿ≥ÿ±Ÿäÿπÿå ŸÖÿ¥ÿßÿ±ŸÉÿ© ÿ±ÿßÿ®ÿ∑ÿå ŸäÿπŸÖŸÑ ÿØŸàŸÜ ÿßÿ™ÿµÿßŸÑ.",
      back:"‚Üê ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸâ ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
      bcHome:"ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©", bcTime:"ÿ£ÿØŸàÿßÿ™ ÿßŸÑŸàŸÇÿ™", bcCur:"ŸÖÿ≠ŸàŸÑ ÿ∑ÿßÿ®ÿπ ŸäŸàŸÜŸÉÿ≥",
      h1:"ŸÖÿ≠ŸàŸÑ ÿ∑ÿßÿ®ÿπ ŸäŸàŸÜŸÉÿ≥",
      hero:"ÿ≠ŸàŸëŸÑ <b>Epoch</b> ŸäŸàŸÜŸÉÿ≥ (ÿ´ŸàÿßŸÜŸç ÿ£Ÿà ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ©) ‚Üî <b>ÿßŸÑŸÖÿ≠ŸÑŸä / UTC</b>. ŸäŸÉÿ™ÿ¥ŸÅ 10/13 ÿ±ŸÇŸÖŸãÿß ÿ™ŸÑŸÇÿßÿ¶ŸäŸãÿß. ŸäÿπŸÖŸÑ ÿØŸàŸÜ ÿßÿ™ÿµÿßŸÑ.",
      ep2dt:"Epoch ‚Üí ÿßŸÑÿ™ÿßÿ±ŸäÿÆ/ÿßŸÑŸàŸÇÿ™", dt2ep:"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ/ÿßŸÑŸàŸÇÿ™ ‚Üí Epoch",
      phTS:"ŸÖÿ´ÿßŸÑ 1734500000 ÿ£Ÿà 1734500000000",
      unitAuto:"ÿ™ŸÑŸÇÿßÿ¶Ÿä", unitS:"ÿ´ŸàÿßŸÜŸç (10 ÿ£ÿ±ŸÇÿßŸÖ)", unitMS:"ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ© (13 ÿ±ŸÇŸÖŸãÿß)",
      now:"ÿßŸÑÿ¢ŸÜ", tip:"ÿ™ŸÑŸÖŸäÿ≠: ŸäŸÉÿ™ÿ¥ŸÅ 10/13 ÿ±ŸÇŸÖŸãÿßÿõ ŸàŸäŸÖŸÉŸÜŸÉ ÿ™ÿ∫ŸäŸäÿ±Ÿá ŸÖŸÜ ÿßŸÑŸàÿ≠ÿØÿ©.",
      preferred:"ÿßŸÑŸÖŸÅÿ∂ŸÑ", local:"ÿßŸÑŸÖÿ≠ŸÑŸä", utc:"UTC",
      copyPref:"ŸÜÿ≥ÿÆ ÿßŸÑŸÖŸÅÿ∂ŸÑ", copyLocal:"ŸÜÿ≥ÿÆ ÿßŸÑŸÖÿ≠ŸÑŸä", copyUTC:"ŸÜÿ≥ÿÆ UTC",
      date:"ÿßŸÑÿ™ÿßÿ±ŸäÿÆ", time:"ÿßŸÑŸàŸÇÿ™", zone:"ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©",
      zonePref:"ÿßŸÑŸÖŸÅÿ∂ŸÑ", zoneLocal:"ÿßŸÑŸÖÿ≠ŸÑŸä", zoneUTC:"UTC",
      convert:"ÿ™ÿ≠ŸàŸäŸÑ", fill:"ÿßŸÖŸÑÿ£ ÿßŸÑÿ¢ŸÜ",
      seconds:"ÿ´ŸàÿßŸÜŸç", milliseconds:"ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ©",
      copySec:"ŸÜÿ≥ÿÆ ÿßŸÑÿ´ŸàÿßŸÜŸä", copyMs:"ŸÜÿ≥ÿÆ ÿßŸÑŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ©",
      related:"ÿ£ÿØŸàÿßÿ™ ÿ∞ÿßÿ™ ÿµŸÑÿ©:", alertPickDate:"ÿßÿÆÿ™ÿ± ÿ™ÿßÿ±ŸäÿÆŸãÿß", alertInvalid:"ÿ™ÿßÿ±ŸäÿÆ/ŸàŸÇÿ™ ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠"}
};
I18N.ng = I18N.en;

const PREF_TZ = {
  zh:"Asia/Shanghai",
  ph:"Asia/Manila",
  id:"Asia/Jakarta",
  vi:"Asia/Ho_Chi_Minh",
  bn:"Asia/Dhaka",
  ng:"Africa/Lagos",
  sw:"Africa/Nairobi",
  ar:"Asia/Riyadh"
};
const HTML_LANG = { en:'en', zh:'zh-CN', ph:'tl-PH', id:'id-ID', vi:'vi-VN', bn:'bn', ng:'en-NG', sw:'sw', ar:'ar' };

const $ = s=>document.querySelector(s);
const qs = new URLSearchParams(location.search);

function getLang(){ return qs.get('lang') || localStorage.getItem('lang') || 'en'; }
function setLangURL(lang){
  qs.set('lang', lang);
  history.replaceState({}, '', location.pathname + '?' + qs.toString());
}
function applyLang(lang){
  const t = I18N[lang] || I18N.en;
  document.title = t.title;
  const md = document.querySelector('meta[name="description"]'); if (md) md.setAttribute('content', t.desc);
  document.documentElement.lang = HTML_LANG[lang] || 'en';
  document.documentElement.dir  = (lang==='ar') ? 'rtl' : 'ltr';

  $('#backHome').textContent = t.back;
  $('#bcHome').textContent = t.bcHome;
  $('#bcTime').textContent = t.bcTime;
  $('#bcCur').textContent  = t.bcCur;

  $('#h1').textContent = t.h1;
  $('#hero').innerHTML = t.hero;

  $('#h-ep2dt').textContent = t.ep2dt;
  $('#ts').placeholder = t.phTS;
  $('#unit option[value="auto"]').textContent = t.unitAuto;
  $('#unit option[value="s"]').textContent    = t.unitS;
  $('#unit option[value="ms"]').textContent   = t.unitMS;
  $('#now').textContent = t.now;
  $('#tsHelp').textContent = t.tip;
  $('#prefLabel').textContent = t.preferred;
  $('#lblLocal').textContent = t.local;
  $('#lblUTC').textContent   = t.utc;
  $('#copyPref').textContent = t.copyPref;
  $('#copyLocal').textContent= t.copyLocal;
  $('#copyUTC').textContent  = t.copyUTC;

  $('#h-dt2ep').textContent = t.dt2ep;
  $('#toEpoch').textContent  = t.convert;
  $('#fillNow').textContent  = t.fill;
  $('#lblSec').textContent   = t.seconds;
  $('#lblMs').textContent    = t.milliseconds;
  $('#copySec').textContent  = t.copySec;
  $('#copyMs').textContent   = t.copyMs;

  $('#rel').textContent = t.related;

  // Zone select labels
  const z = $('#zone');
  const optLocal = z.querySelector('option[value="local"]');
  const optUTC   = z.querySelector('option[value="utc"]');
  if (optLocal) optLocal.textContent = t.zoneLocal;
  if (optUTC)   optUTC.textContent   = t.zoneUTC;

  // Preferred block & zone option
  const prefTZ = PREF_TZ[lang];
  const prefWrap = $('#prefWrap');
  const copyPref = $('#copyPref');

  // Inject/remove Preferred in zone select
  let prefOpt = z.querySelector('option[value="pref"]');
  if (prefTZ){
    $('#prefBadge').textContent = prefTZ;
    prefWrap.style.display = '';
    copyPref.style.display = '';

    if (!prefOpt){
      prefOpt = document.createElement('option');
      prefOpt.value = 'pref';
      z.prepend(prefOpt);
    }
    prefOpt.textContent = t.zonePref;

    // Default to preferred if URL didn't specify zone
    if (!qs.get('zone')) z.value = 'pref';
  }else{
    prefWrap.style.display = 'none';
    copyPref.style.display = 'none';
    if (prefOpt) prefOpt.remove();
    if (z.value === 'pref') z.value = 'local';
  }

  localStorage.setItem('lang', lang);
  setLangURL(lang);
  renderTS(); // refresh outputs & badges
}

function getPrefTZ(lang){ return PREF_TZ[lang] || null; }

/* ---------- core logic ---------- */
function fmt(d, tz){
  return new Intl.DateTimeFormat([], {
    year:'numeric',month:'short',day:'2-digit',
    hour:'2-digit',minute:'2-digit',second:'2-digit',
    hour12:false,timeZone: tz
  }).format(d);
}
function detectUnitFromValue(v){
  const s = v.trim();
  if (!/^-?\d{1,20}$/.test(s)) return null;
  if (s.length >= 13) return "ms";
  if (s.length === 10) return "s";
  const n = Number(s);
  if (!Number.isFinite(n)) return null;
  if (n > 1e12) return "ms";
  if (n > 1e9 && n < 5e10) return "s";
  return null;
}
function parseTS(){
  const raw = $('#ts').value.trim();
  if (!raw) return null;
  if (!/^-?\d{1,20}$/.test(raw)) return null;
  const sel = $('#unit').value;
  const inferred = sel === 'auto' ? detectUnitFromValue(raw) : sel;
  let n = Number(raw);
  if (!Number.isFinite(n)) return null;
  if (inferred === 's') n *= 1000;
  return new Date(n);
}
function renderTS(){
  const d = parseTS();
  const lang = getLang();
  const prefTZ = getPrefTZ(lang);

  if(!d || Number.isNaN(d.getTime())){
    $('#pref').textContent  = '‚Äî';
    $('#local').textContent = '‚Äî';
    $('#utc').textContent   = '‚Äî';
  }else{
    if (prefTZ) $('#pref').textContent = fmt(d, prefTZ);
    $('#local').textContent = fmt(d);
    $('#utc').textContent   = fmt(d,'UTC');
  }
  persistURL();
}
function zoneToTZ(val){
  if (val==='utc') return 'UTC';
  if (val==='pref') return getPrefTZ(getLang()) || Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
  return Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
}
function toEpoch(){
  const t = I18N[getLang()] || I18N.en;
  const date = $('#date').value;
  const time = $('#time').value || '00:00:00';
  if(!date){ alert(t.alertPickDate); return; }
  const zSel = $('#zone').value;
  const tz   = zoneToTZ(zSel);

  // Construct date in chosen tz: create Date from parts by formatting to that tz offset
  // Easiest: build an ISO in that tz using getTimezoneOffset difference trick is complex.
  // Simpler here: if tz==='UTC', append Z; else treat as local by temporarily formatting.
  let d;
  if (tz === 'UTC'){
    d = new Date(`${date}T${time}Z`);
  }else{
    // interpret as local wall time in that tz by getting equivalent UTC using that tz's offset at that time
    const parts = `${date}T${time}:00`.slice(0,19); // ensure HH:MM:SS
    const localCandidate = new Date(parts); // local
    // Adjust from local to target tz by diff between target offset and local offset at that moment
    const fmtOpt = { timeZone: tz, year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false };
    const inTz = new Intl.DateTimeFormat('en-CA', fmtOpt).format(new Date(parts));
    // inTz returns like "YYYY-MM-DD, HH:MM:SS" (locale-dependent). Build ISO then parse as if that wall time were in tz -> produce same instant as localCandidate but corrected.
    const m = inTz.match(/(\d{4})-(\d{2})-(\d{2}).*?(\d{2}):(\d{2}):(\d{2})/);
    if (m){
      const iso = `${m[1]}-${m[2]}-${m[3]}T${m[4]}:${m[5]}:${m[6]}Z`;
      d = new Date(iso);
    }else{
      d = localCandidate; // fallback
    }
  }

  if(Number.isNaN(d.getTime())){ alert(t.alertInvalid); return; }
  const ms = d.getTime();
  $('#sec').textContent  = String(Math.floor(ms/1000));
  $('#msec').textContent = String(ms);
  persistURL();
}
function copy(text){
  const v = (text||'').trim();
  if (!v || v==='‚Äî') return;
  navigator.clipboard?.writeText(v).catch(()=>{});
}

/* ---------- URL state ---------- */
function persistURL(){
  const lang = getLang();
  if (lang) qs.set('lang', lang);

  const ts = $('#ts').value.trim();
  const unit = $('#unit').value;
  const date = $('#date').value;
  const time = $('#time').value;
  const zone = $('#zone').value;

  if (ts) qs.set('ts', ts); else qs.delete('ts');
  if (unit && unit!=='auto') qs.set('unit', unit); else qs.delete('unit');
  if (date) qs.set('date', date); else qs.delete('date');
  if (time) qs.set('time', time); else qs.delete('time');
  if (zone && zone!=='local') qs.set('zone', zone); else qs.delete('zone');

  history.replaceState({}, '', location.pathname + (qs.toString()?('?'+qs.toString()):''));
}
function loadFromURL(){
  const ts = qs.get('ts') || '';
  const unit = qs.get('unit') || 'auto';
  const date = qs.get('date');
  const time = qs.get('time');
  const zone = qs.get('zone');

  if (ts) $('#ts').value = ts;
  $('#unit').value = (['auto','s','ms'].includes(unit) ? unit : 'auto');
  if (date) $('#date').value = date;
  if (time) $('#time').value = time;
  if (zone) $('#zone').value = zone;
}

/* ---------- events ---------- */
$('#ts').addEventListener('input', renderTS);
$('#unit').addEventListener('change', renderTS);
$('#now').addEventListener('click', ()=>{
  const mode = $('#unit').value;
  const useMs = (mode==='ms') || (mode==='auto');
  $('#ts').value = useMs ? String(Date.now()) : String(Math.floor(Date.now()/1000));
  renderTS();
});
$('#toEpoch').addEventListener('click', toEpoch);
$('#fillNow').addEventListener('click', ()=>{
  const now = new Date();
  $('#date').value = now.toISOString().slice(0,10);
  $('#time').value = now.toTimeString().slice(0,8);
  // if preferred tz exists and no explicit URL zone, keep current select value (likely 'pref'); otherwise default to local
  if (!$('#zone').value) $('#zone').value = 'local';
  toEpoch();
});
$('#copyPref').onclick  = ()=>copy($('#pref').textContent);
$('#copyLocal').onclick = ()=>copy($('#local').textContent);
$('#copyUTC').onclick   = ()=>copy($('#utc').textContent);
$('#copySec').onclick   = ()=>copy($('#sec').textContent);
$('#copyMs').onclick    = ()=>copy($('#msec').textContent);

// Keyboard: Enter = run current panel
window.addEventListener('keydown', (e)=>{
  if (e.ctrlKey || e.metaKey) return;
  if (e.key.toLowerCase()==='enter'){
    if (document.activeElement && document.activeElement.closest('[aria-labelledby="h-dt2ep"]')) toEpoch();
    else renderTS();
  }
});

// Language boot & change
const langSel = $('#lang');
const bootLang = getLang();
langSel.value = I18N[bootLang] ? bootLang : 'en';
applyLang(langSel.value); // also sets document dir/lang and texts
loadFromURL();            // load URL values (after we have labels & options)
renderTS();
if (!qs.get('ts') && !qs.get('date')){
  $('#now').click();
  $('#fillNow').click();
}
langSel.addEventListener('change', ()=>{
  applyLang(langSel.value);
});

// Keep Home links carrying ?lang
</script>

<noscript>
  <div class="card" style="max-width:800px;margin:24px auto">
    <h2>JavaScript Required</h2>
    <p class="muted">This converter runs entirely in your browser (for privacy and offline use). Please enable JavaScript.</p>
  </div>
</noscript>

<script>
(function(){
  // Compute site root by removing the last two segments (category/tool)
  var path = location.pathname.replace(/\/+$/,'');
  var parts = path.split('/');
  if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
  else parts = [''];
  var home = parts.join('/') + '/';

  // preserve ?lang if present
  var cur = new URL(location.href);
  var lang = cur.searchParams.get('lang');
  if (lang) {
    var u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    home = u.pathname + u.search + u.hash;
  }

  document.querySelectorAll('a[data-home]').forEach(function(a){
    a.setAttribute('href', home);
  });
})();
</script>
</body>
</html>
