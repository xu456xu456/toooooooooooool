<!DOCTYPE html>
<html lang="en">
<head>
<title>Password Generator | GoToolOnline</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="Generate strong random passwords securely in your browser."/>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><text x='6' y='52' font-size='48'>üõ†Ô∏è</text></svg>"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>
<style>
  :root { --bg:#0a0f1e; --card:#0f1830; --muted:#9fb0c3; --fg:#eaf3ff; --acc:#4fb3ff; --ok:#61d095; --warn:#ffb86b; --bad:#ff6b6b;}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
  header{max-width:1200px;margin:24px auto 8px;display:flex;gap:14px;align-items:center;padding:0 18px}
  header a.logo{display:flex;gap:10px;align-items:center;text-decoration:none;color:var(--fg);font-weight:800;font-size:24px}
  header a.navbtn{margin-left:auto;padding:10px 14px;background:#0f1a2f;border:1px solid #24365b;border-radius:12px;color:#eaf3ff;text-decoration:none;font-size:16px}
  header a.navbtn:hover{border-color:#4fb3ff;box-shadow:0 0 0 3px rgba(79,179,255,.18)}
  select.lang{margin-left:8px;padding:10px 12px;background:#0f1a2f;border:1px solid #24365b;border-radius:12px;color:#eaf3ff;font-size:14px}
  main{max-width:1200px;margin:10px auto 64px;padding:0 18px}
  h1{font-size:34px;margin:10px 0 10px}
  p,label,.muted{font-size:18px; line-height:1.6}
  .card{background:var(--card);border:1px solid #1a2843;border-radius:20px;padding:20px;margin:16px 0}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  label{display:block;margin:8px 0 6px;color:var(--muted)}
  input,select,button,textarea{width:100%;padding:14px;border-radius:12px;border:1px solid #24365b;background:#0f1a2f;color:#eaf3ff;font-size:18px}
  button{cursor:pointer;background:linear-gradient(180deg,#2a78ff,#0050d4);border:none;font-weight:700;letter-spacing:.2px}
  button:hover{filter:brightness(1.06)}
  .options{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px}
  .stack{display:flex;flex-direction:column;gap:6px}
  .outwrap{display:flex;gap:8px;align-items:center}
  .outwrap textarea{flex:1}
  .muted{color:#9fb0c3}
  .bar{height:10px;background:#0b1226;border:1px solid #1c2d55;border-radius:999px;overflow:hidden}
  .bar>span{display:block;height:100%;width:0%;background:linear-gradient(90deg,#ff6b6b,#ffb86b,#61d095)}
  .note{font-size:14px;color:#9fb0c3}
  .right{display:flex;gap:8px;align-items:center;justify-content:flex-end}
  @media (max-width:760px){ .row{grid-template-columns:1fr} .right{justify-content:flex-start} }
  @media print{ header,footer,.no-print{display:none!important} body{background:#fff;color:#000} .card{border:none} }
</style>
<script>function backToTop(){ window.scrollTo({top:0, behavior:'smooth'}); }</script>

  
  <link rel="alternate" hreflang="en" href="https://gotoolonline.com/tools/password-generator/"/>
  <link rel="alternate" hreflang="x-default" href="https://gotoolonline.com/tools/password-generator/"/>

<link rel="canonical" href="https://gotoolonline.com/tools/password-generator/">
</head>
\1

    <div id="topnav-return-home" style="position:sticky;top:0;padding:10px 14px;border-bottom:1px solid #eee;background:#fff;z-index:999;font-family:system-ui,Segoe UI,Roboto,Arial;">
      <a href="../../index.html" style="text-decoration:none;">‚Üê ËøîÂõûÈ¶ñÈ°µ</a>
    </div>
    
<header>
  <a class="logo" data-home href="#"><span>üõ†Ô∏è</span><strong>GoToolOnline</strong></a>
  <a class="navbtn" id="back" data-home href="#">‚Üê Back to Home</a>
  <select id="lang" class="lang" aria-label="Language">
    <option value="en">English</option>
    <option value="zh">ÁÆÄ‰Ωì‰∏≠Êñá</option>
    <option value="ph">Tagalog</option>
    <option value="id">Bahasa Indonesia</option>
    <option value="vi">Ti·∫øng Vi·ªát</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    <option value="ng">English (NG)</option>
    <option value="sw">Kiswahili</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  </select>
</header>
<main>
  <section class="card">
    <h1 id="title">Password Generator</h1>
    <div class="row">
      <div class="stack">
        <label id="labLen">Length</label>
        <input id="len" type="number" min="6" max="128" value="16" inputmode="numeric"/>
        <label class="note" id="lenNote">Recommended: 16‚Äì24+</label>
      </div>
      <div class="stack">
        <div class="muted" id="opts">Options</div>
        <div class="options">
          <label><input id="u" type="checkbox" checked/> <span id="optU">Uppercase</span></label>
          <label><input id="l" type="checkbox" checked/> <span id="optL">Lowercase</span></label>
          <label><input id="n" type="checkbox" checked/> <span id="optN">Numbers</span></label>
          <label><input id="s" type="checkbox"/> <span id="optS">Symbols</span></label>
          <label><input id="xSim" type="checkbox"/> <span id="optX">Exclude similar (O0Il1)</span></label>
          <label><input id="reqEach" type="checkbox" checked/> <span id="optReq">Require at least one of each selected set</span></label>
        </div>
      </div>
    </div>

    <div class="right" style="margin-top:10px">
      <button id="genBtn">Generate</button>
      <button id="copyBtn" class="no-print" style="background:#0f1a2f;border:1px solid #2a3d67">Copy</button>
    </div>

    <div class="outwrap" style="margin-top:10px">
      <textarea id="out" rows="2" readonly></textarea>
    </div>

    <div style="margin-top:10px">
      <div class="muted"><span id="strengthLbl">Strength</span>: <strong id="strengthTxt">‚Äî</strong> ¬∑ <span id="entropy">‚Äî</span></div>
      <div class="bar" aria-hidden="true" style="margin-top:6px"><span id="meter"></span></div>
      <div class="note" style="margin-top:6px" id="footnote">Generated locally with WebCrypto. Don‚Äôt reuse passwords.</div>
    </div>
  </section>
</main>
<footer>
  <a class="backTop" href="javascript:void(0)" onclick="backToTop()">Back to Top ‚Üë</a>
  <div style="margin-top:10px">¬© <span id="y"></span> GoToolOnline.com ¬∑ Free online tools for everyone.</div>
</footer>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();

  // -------- i18n (9 languages) --------
  const I18N = {
    en:{title:"Password Generator", back:"‚Üê Back to Home", len:"Length", lenNote:"Recommended: 16‚Äì24+",
        options:"Options", u:"Uppercase", l:"Lowercase", n:"Numbers", s:"Symbols",
        x:"Exclude similar (O0Il1)", req:"Require at least one of each selected set",
        gen:"Generate", copy:"Copy", strength:"Strength", local:"Generated locally with WebCrypto. Don‚Äôt reuse passwords.",
        weak:"Weak", fair:"Fair", strong:"Strong", vstrong:"Very strong"},
    zh:{title:"ÂØÜÁ†ÅÁîüÊàêÂô®", back:"‚Üê ËøîÂõûÈ¶ñÈ°µ", len:"ÈïøÂ∫¶", lenNote:"Âª∫ËÆÆÔºö16‚Äì24 ‰Ωç‰ª•‰∏ä",
        options:"ÈÄâÈ°π", u:"Â§ßÂÜôÂ≠óÊØç", l:"Â∞èÂÜôÂ≠óÊØç", n:"Êï∞Â≠ó", s:"Á¨¶Âè∑",
        x:"ÊéíÈô§ÊòìÊ∑∑Ê∑ÜÂ≠óÁ¨¶ÔºàO0Il1Ôºâ", req:"ÊØèÁ±ªÔºàÂ∑≤ÂãæÈÄâÔºâËá≥Â∞ëÂåÖÂê´ 1 ‰∏™",
        gen:"ÁîüÊàê", copy:"Â§çÂà∂", strength:"Âº∫Â∫¶", local:"Êú¨Â∑•ÂÖ∑Âú®ÊµèËßàÂô®Êú¨Âú∞ÁîüÊàêÔºàWebCryptoÔºâ„ÄÇËØ∑ÂãøÂ§çÁî®ÂØÜÁ†Å„ÄÇ",
        weak:"Âº±", fair:"‰∏ÄËà¨", strong:"Âº∫", vstrong:"ÂæàÂº∫"},
    ph:{title:"Password Generator", back:"‚Üê Balik sa Home", len:"Haba", lenNote:"Rekomendado: 16‚Äì24+",
        options:"Mga opsyon", u:"Malalaking letra", l:"Maliit na letra", n:"Mga numero", s:"Mga simbolo",
        x:"Iwasan ang magkahawig (O0Il1)", req:"Kumuha ng hindi bababa sa isa bawat napiling set",
        gen:"Gumawa", copy:"Kopya", strength:"Lakas", local:"Gumagawa sa lokal gamit ang WebCrypto. Huwag i-reuse ang password.",
        weak:"Mahina", fair:"Katamtaman", strong:"Malakas", vstrong:"Napakalakas"},
    id:{title:"Pembuat Kata Sandi", back:"‚Üê Kembali ke Beranda", len:"Panjang", lenNote:"Disarankan: 16‚Äì24+",
        options:"Opsi", u:"Huruf besar", l:"Huruf kecil", n:"Angka", s:"Simbol",
        x:"Kecualikan mirip (O0Il1)", req:"Wajib minimal satu dari tiap set terpilih",
        gen:"Bangkitkan", copy:"Salin", strength:"Kekuatan", local:"Dibuat lokal dengan WebCrypto. Jangan pakai ulang sandi.",
        weak:"Lemah", fair:"Cukup", strong:"Kuat", vstrong:"Sangat kuat"},
    vi:{title:"Tr√¨nh t·∫°o m·∫≠t kh·∫©u", back:"‚Üê V·ªÅ trang ch·ªß", len:"ƒê·ªô d√†i", lenNote:"Khuy·∫øn ngh·ªã: 16‚Äì24+",
        options:"T√πy ch·ªçn", u:"Ch·ªØ hoa", l:"Ch·ªØ th∆∞·ªùng", n:"S·ªë", s:"K√Ω hi·ªáu",
        x:"Lo·∫°i tr·ª´ k√Ω t·ª± d·ªÖ nh·∫ßm (O0Il1)", req:"M·ªói nh√≥m ƒë√£ ch·ªçn ph·∫£i c√≥ ‚â•1 k√Ω t·ª±",
        gen:"T·∫°o", copy:"Sao ch√©p", strength:"ƒê·ªô m·∫°nh", local:"T·∫°o c·ª•c b·ªô b·∫±ng WebCrypto. Kh√¥ng t√°i s·ª≠ d·ª•ng m·∫≠t kh·∫©u.",
        weak:"Y·∫øu", fair:"Trung b√¨nh", strong:"M·∫°nh", vstrong:"R·∫•t m·∫°nh"},
    bn:{title:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞", back:"‚Üê ‡¶π‡ßã‡¶Æ‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®", len:"‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø", lenNote:"‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§: ‡ßß‡ß¨‚Äì‡ß®‡ß™+",
        options:"‡¶Ö‡¶™‡¶∂‡¶®", u:"‡¶¨‡¶°‡¶º ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞", l:"‡¶õ‡ßã‡¶ü ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞", n:"‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ", s:"‡¶ö‡¶ø‡¶π‡ßç‡¶®",
        x:"‡¶∏‡¶æ‡¶¶‡ßÉ‡¶∂‡ßç‡¶Ø‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶® (O0Il1)", req:"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡ßá‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶§‡¶§ ‡ßß‡¶ü‡¶ø",
        gen:"‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü", copy:"‡¶ï‡¶™‡¶ø", strength:"‡¶∂‡¶ï‡ßç‡¶§‡¶ø", local:"WebCrypto ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤‡ßá‡¶á ‡¶§‡ßà‡¶∞‡¶ø‡•§ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßÅ‡¶®‡¶∞‡ßç‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§",
        weak:"‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤", fair:"‡¶Æ‡ßã‡¶ü‡¶æ‡¶Æ‡ßÅ‡¶ü‡¶ø", strong:"‡¶Æ‡¶ú‡¶¨‡ßÅ‡¶§", vstrong:"‡¶ñ‡ßÅ‡¶¨ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ"},
    ng:{title:"Password Generator", back:"‚Üê Back to Home", len:"Length", lenNote:"Better 16‚Äì24+",
        options:"Options", u:"Uppercase", l:"Lowercase", n:"Numbers", s:"Symbols",
        x:"Remove look-alike (O0Il1)", req:"Pick at least one from each selected set",
        gen:"Generate", copy:"Copy", strength:"Strength", local:"Made locally with WebCrypto. No reuse abeg.",
        weak:"Weak", fair:"Okay", strong:"Strong", vstrong:"Very strong"},
    sw:{title:"Kizalishi cha Nywila", back:"‚Üê Rudi Nyumbani", len:"Urefu", lenNote:"Inashauriwa: 16‚Äì24+",
        options:"Chaguo", u:"Herufi kubwa", l:"Herufi ndogo", n:"Nambari", s:"Alama",
        x:"Usijumuishe zinazofanana (O0Il1)", req:"Angalau herufi 1 kutoka kila seti uliyochagua",
        gen:"Tengeneza", copy:"Nakili", strength:"Nguvu", local:"Hutengenezwa ndani ya kivinjari kwa WebCrypto. Usitumie nywila tena.",
        weak:"Dhaifu", fair:"Wastani", strong:"Imara", vstrong:"Imara sana"},
    ar:{title:"ŸÖŸàŸÑŸëŸêÿØ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖÿ±Ÿàÿ±", back:"‚Üê ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸâ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©", len:"ÿßŸÑÿ∑ŸàŸÑ", lenNote:"ŸÖÿ≥ÿ™ÿ≠ÿ≥ŸÜ: ‚Äé16‚Äì24+‚Äé",
        options:"ÿßŸÑÿÆŸäÿßÿ±ÿßÿ™", u:"ÿ£ÿ≠ÿ±ŸÅ ŸÉÿ®Ÿäÿ±ÿ©", l:"ÿ£ÿ≠ÿ±ŸÅ ÿµÿ∫Ÿäÿ±ÿ©", n:"ÿ£ÿ±ŸÇÿßŸÖ", s:"ÿ±ŸÖŸàÿ≤",
        x:"ÿßÿ≥ÿ™ÿ®ÿπÿßÿØ ÿßŸÑŸÖÿ™ÿ¥ÿßÿ®Ÿáÿ© (O0Il1)", req:"ÿßÿ¥ŸÖŸÑ ÿ≠ÿ±ŸÅŸãÿß Ÿàÿßÿ≠ÿØŸãÿß ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ ŸÖŸÜ ŸÉŸÑ ŸÖÿ¨ŸÖŸàÿπÿ© ŸÖÿ≠ÿØÿØÿ©",
        gen:"ÿ™ŸàŸÑŸäÿØ", copy:"ŸÜÿ≥ÿÆ", strength:"ÿßŸÑŸÇŸàÿ©", local:"ŸäŸèŸàŸÑŸëŸéÿØ ŸÖÿ≠ŸÑŸäŸãÿß ÿπÿ®ÿ± WebCrypto. ŸÑÿß ÿ™ÿπŸêÿØ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑŸÖÿ±Ÿàÿ±.",
        weak:"ÿ∂ÿπŸäŸÅ", fair:"ŸÖÿ™Ÿàÿ≥ÿ∑", strong:"ŸÇŸàŸä", vstrong:"ŸÇŸàŸä ÿ¨ÿØŸãÿß"},
  };
  const HTML_LANG = {en:'en', zh:'zh-CN', ph:'tl-PH', id:'id-ID', vi:'vi-VN', bn:'bn', ng:'en-NG', sw:'sw', ar:'ar'};
  const qs = new URLSearchParams(location.search);

  function setHomeLinksForLang(lang){
    var path = location.pathname.replace(/\/+$/,'');
    var parts = path.split('/');
    if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
    else parts = [''];
    var home = parts.join('/') + '/';
    const u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    document.querySelectorAll('a[data-home]').forEach(a=>a.setAttribute('href', u.pathname+u.search+u.hash));
  }

  function applyLang(lang){
    const t = I18N[lang] || I18N.en;
    document.title = t.title + " | GoToolOnline";
    document.documentElement.lang = HTML_LANG[lang] || 'en';
    document.documentElement.dir = (lang==='ar') ? 'rtl' : 'ltr';

    document.getElementById('back').textContent = t.back;
    document.getElementById('title').textContent = t.title;
    document.getElementById('labLen').textContent = t.len;
    document.getElementById('lenNote').textContent = t.lenNote;
    document.getElementById('opts').textContent = t.options;
    document.getElementById('optU').textContent = t.u;
    document.getElementById('optL').textContent = t.l;
    document.getElementById('optN').textContent = t.n;
    document.getElementById('optS').textContent = t.s;
    document.getElementById('optX').textContent = t.x;
    document.getElementById('optReq').textContent = t.req;
    document.getElementById('genBtn').textContent = t.gen;
    document.getElementById('copyBtn').textContent = t.copy;
    document.getElementById('strengthLbl').textContent = t.strength;
    document.getElementById('footnote').textContent = t.local;

    localStorage.setItem('lang', lang);
    qs.set('lang', lang);
    history.replaceState({}, '', location.pathname + '?' + qs.toString());
    setHomeLinksForLang(lang);
  }

  (function bootLang(){
    const L = qs.get('lang') || localStorage.getItem('lang') || 'en';
    const sel = document.getElementById('lang');
    sel.value = I18N[L] ? L : 'en';
    applyLang(sel.value);
    sel.addEventListener('change', e=> applyLang(e.target.value));
  })();

  // -------- Password generation (crypto-secure) --------
  const $ = s=>document.querySelector(s);
  const out = $('#out'), meter = $('#meter'), strengthTxt = $('#strengthTxt'), entropyEl = $('#entropy');

  const SETS = {
    upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
    lower: 'abcdefghijklmnopqrstuvwxyz',
    nums:  '0123456789',
    syms:  '!@#$%^&*()-_=+[]{};:,.?/~'
  };
  const SIMILAR = new Set(['O','0','I','l','1']);

  function buildPool(){
    let pool = '';
    const sets = [];
    if ($('#u').checked) { sets.push('upper'); pool += SETS.upper; }
    if ($('#l').checked) { sets.push('lower'); pool += SETS.lower; }
    if ($('#n').checked) { sets.push('nums');  pool += SETS.nums;  }
    if ($('#s').checked) { sets.push('syms');  pool += SETS.syms;  }

    if ($('#xSim').checked){
      pool = [...pool].filter(ch=>!SIMILAR.has(ch)).join('');
    }
    return { pool, sets };
  }

  function cryptoInts(n){
    const a = new Uint32Array(n);
    (window.crypto || window.msCrypto).getRandomValues(a);
    return a;
  }

  function pickFrom(str, n){
    const out = [];
    const r = cryptoInts(n);
    for (let i=0;i<n;i++){ out.push(str[r[i] % str.length]); }
    return out;
  }

  function shuffle(arr){
    // Fisher‚ÄìYates with crypto
    for (let i=arr.length-1;i>0;i--){
      const r = cryptoInts(1)[0];
      const j = r % (i+1);
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function ensureEachSelected(sets, poolArr){
    const need = [];
    sets.forEach(key=>{
      const src = SETS[key];
      const filtered = $('#xSim').checked ? [...src].filter(ch=>!SIMILAR.has(ch)).join('') : src;
      if (filtered.length>0){
        need.push(pickFrom(filtered,1)[0]);
      }
    });
    // Place guaranteed picks at random positions
    const indices = new Set();
    const r = cryptoInts(need.length);
    for (let k=0;k<need.length;k++){
      let j = r[k] % poolArr.length;
      while (indices.has(j)) j = (j+1) % poolArr.length;
      indices.add(j);
      poolArr[j] = need[k];
    }
  }

  function estimate(bitsPerChar, len){
    const bits = Math.max(0, bitsPerChar * len);
    let tier = 'weak';
    if (bits >= 80) tier = 'vstrong';
    else if (bits >= 60) tier = 'strong';
    else if (bits >= 40) tier = 'fair';
    const t = I18N[ document.getElementById('lang').value ] || I18N.en;
    strengthTxt.textContent = t[tier];
    entropyEl.textContent = `‚âà ${bits.toFixed(1)} bits`;
    const pct = Math.max(0, Math.min(100, (bits/100)*100));
    meter.style.width = `${pct}%`;
  }

  function genOnce(){
    const len = Math.max(6, Math.min(128, parseInt($('#len').value||'16',10)));
    const { pool, sets } = buildPool();
    if (!pool){ out.value=''; estimate(0,0); return; }
    if ($('#reqEach').checked && len < sets.length){
      $('#len').value = sets.length;
    }
    const arr = pickFrom(pool, len);
    if ($('#reqEach').checked) ensureEachSelected(sets, arr);
    shuffle(arr);
    out.value = arr.join('');

    // Entropy estimate
    const alphabet = new Set(pool.split(''));
    estimate(Math.log2(alphabet.size), len);
  }

  $('#genBtn').addEventListener('click', genOnce);
  $('#copyBtn').addEventListener('click', ()=>{
    const v = (out.value||'').trim();
    if (!v) return;
    navigator.clipboard?.writeText(v);
  });

  // First paint
  genOnce();
</script>

<!-- Preserve your shared data-home resolver and ?lang passthrough -->
<script>
(function(){
  var path = location.pathname.replace(/\/+$/,'');
  var parts = path.split('/');
  if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
  else parts = [''];
  var home = parts.join('/') + '/';

  var cur = new URL(location.href);
  var lang = cur.searchParams.get('lang');
  if (lang) {
    var u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    home = u.pathname + u.search + u.hash;
  }
  document.querySelectorAll('a[data-home]').forEach(function(a){
    a.setAttribute('href', home);
  });
})();
</script>
</body>
</html>
