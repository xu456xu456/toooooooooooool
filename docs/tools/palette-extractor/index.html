<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Palette from Image ‚Äî Extract Colors | GoToolOnline</title>
<meta name="description" content="Upload an image to extract a color palette. Copy HEX/RGB. All in the browser."/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text x='2' y='14' font-size='14'>üé®</text></svg>"/>
<style>
  :root{--bg:#0a0f1e;--card:#0f1830;--fg:#eaf3ff;--muted:#9fb0c3}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--fg)}
  header{max-width:1000px;margin:18px auto 8px;display:flex;gap:10px;align-items:center;padding:0 16px}
  header a{color:var(--fg);text-decoration:none}
  .pill{padding:8px 12px;border:1px solid #24365b;background:#0f1a2f;border-radius:999px}
  .lang{margin-left:auto;padding:8px 12px;border:1px solid #24365b;background:#0f1a2f;border-radius:10px;color:#eaf3ff;font-size:14px}
  main{max-width:1000px;margin:8px auto 72px;padding:0 16px}
  .card{background:#0f1830;border:1px solid #1a2843;border-radius:18px;padding:16px;margin:12px 0}
  .drop{border:2px dashed #2a3d67;border-radius:14px;padding:20px;text-align:center;cursor:pointer}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px;margin-top:12px}
  .sw{border-radius:12px;border:1px solid #223055;overflow:hidden}
  .chip{padding:8px 10px;border:1px solid #24365b;background:#0f1a2f;border-radius:999px;cursor:pointer}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  img{max-width:100%;border-radius:12px;border:1px solid #223055}
  .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
  .muted{color:var(--muted)}
</style>

  
  <link rel="alternate" hreflang="en" href="https://gotoolonline.com/tools/palette-extractor/"/>
  <link rel="alternate" hreflang="x-default" href="https://gotoolonline.com/tools/palette-extractor/"/>

<link rel="canonical" href="https://gotoolonline.com/tools/palette-extractor/">
</head>
\1

    <div id="topnav-return-home" style="position:sticky;top:0;padding:10px 14px;border-bottom:1px solid #eee;background:#fff;z-index:999;font-family:system-ui,Segoe UI,Roboto,Arial;">
      <a href="../../index.html" style="text-decoration:none;">‚Üê ËøîÂõûÈ¶ñÈ°µ</a>
    </div>
    
<header>
  <a class="pill" data-home href="#">üõ† GoToolOnline</a>
  <a class="pill" id="back" data-home href="#">‚Üê Back to Home</a>
  <select id="lang" class="lang" aria-label="Language">
    <option value="en">English</option>
    <option value="zh">ÁÆÄ‰Ωì‰∏≠Êñá</option>
    <option value="ph">Tagalog</option>
    <option value="id">Bahasa Indonesia</option>
    <option value="vi">Ti·∫øng Vi·ªát</option>
    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    <option value="ng">English (NG)</option>
    <option value="sw">Kiswahili</option>
    <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  </select>
</header>
<main>
<section class="card">
  <h1 id="h1">Palette from Image</h1>
  <div class="drop" id="drop">
    <span id="dropTxt">Drop image here or click to upload</span>
    <input id="file" type="file" accept="image/*" style="display:none"/>
  </div>
  <div class="row" style="margin-top:10px">
    <label id="labColors">Colors <input id="k" type="number" min="2" max="12" value="6" style="width:80px"/></label>
    <label id="labSamples">Sample pixels <input id="samples" type="number" min="500" max="30000" value="6000" style="width:120px"/></label>
    <button class="chip" id="run">Extract</button>
  </div>
  <div id="preview" style="margin-top:10px"></div>
  <div id="palette" class="grid"></div>
  <div id="note" class="muted" style="margin-top:8px"></div>
</section>
</main>

<script>
  // ---------- i18n ----------
  const I18N = {
    en:{title:"Palette from Image ‚Äî Extract Colors | GoToolOnline",desc:"Upload an image to extract a color palette. Copy HEX/RGB. All in the browser.",
        back:"‚Üê Back to Home", h1:"Palette from Image", drop:"Drop image here or click to upload",
        colors:"Colors", samples:"Sample pixels", extract:"Extract",
        needImg:"Upload an image first.", copyHex:"Copy HEX", copyRgb:"Copy RGB",
        note:(k,n)=>`Colors: ${k} ¬∑ Samples: ${n}`},
    zh:{title:"ÂõæÁâáÂèñËâ≤Êùø ‚Äî ÊèêÂèñ‰∏ªËâ≤ | GoToolOnline",desc:"‰∏ä‰º†ÂõæÁâáÂπ∂ÊèêÂèñËâ≤Êùø„ÄÇÊîØÊåÅÂ§çÂà∂ HEX/RGBÔºåÂÖ®ÈÉ®Âú®ÊµèËßàÂô®Êú¨Âú∞ÂÆåÊàê„ÄÇ",
        back:"‚Üê ËøîÂõûÈ¶ñÈ°µ", h1:"ÂõæÁâáÂèñËâ≤Êùø", drop:"Â∞ÜÂõæÁâáÊãñÊãΩÂà∞Ê≠§Â§ÑÔºåÊàñÁÇπÂáª‰∏ä‰º†",
        colors:"È¢úËâ≤Êï∞", samples:"ÈááÊ†∑ÂÉèÁ¥†Êï∞", extract:"ÊèêÂèñ",
        needImg:"ËØ∑ÂÖà‰∏ä‰º†ÂõæÁâá„ÄÇ", copyHex:"Â§çÂà∂ HEX", copyRgb:"Â§çÂà∂ RGB",
        note:(k,n)=>`È¢úËâ≤Ôºö${k} ¬∑ ÈááÊ†∑Ôºö${n}`},
    ph:{title:"Palette mula sa Larawan ‚Äî Kunin ang mga Kulay | GoToolOnline",desc:"Mag-upload ng larawan para kumuha ng palette. Kopyahin ang HEX/RGB. Lahat sa browser.",
        back:"‚Üê Balik sa Home", h1:"Palette mula sa Larawan", drop:"I-drop ang larawan dito o i-click para mag-upload",
        colors:"Mga kulay", samples:"Mga sample pixel", extract:"Kunin",
        needImg:"Mag-upload muna ng larawan.", copyHex:"Kopyahin HEX", copyRgb:"Kopyahin RGB",
        note:(k,n)=>`Mga kulay: ${k} ¬∑ Mga sample: ${n}`},
    id:{title:"Palet dari Gambar ‚Äî Ekstrak Warna | GoToolOnline",desc:"Unggah gambar untuk mengekstrak palet warna. Salin HEX/RGB. Semua di browser.",
        back:"‚Üê Kembali ke Beranda", h1:"Palet dari Gambar", drop:"Tarik gambar ke sini atau klik untuk unggah",
        colors:"Jumlah warna", samples:"Sampel piksel", extract:"Ekstrak",
        needImg:"Unggah gambar terlebih dahulu.", copyHex:"Salin HEX", copyRgb:"Salin RGB",
        note:(k,n)=>`Warna: ${k} ¬∑ Sampel: ${n}`},
    vi:{title:"B·∫£ng m√†u t·ª´ ·∫£nh ‚Äî Tr√≠ch xu·∫•t m√†u | GoToolOnline",desc:"T·∫£i ·∫£nh ƒë·ªÉ tr√≠ch xu·∫•t b·∫£ng m√†u. Sao ch√©p HEX/RGB. Ch·∫°y ho√†n to√†n trong tr√¨nh duy·ªát.",
        back:"‚Üê V·ªÅ trang ch·ªß", h1:"B·∫£ng m√†u t·ª´ ·∫£nh", drop:"K√©o th·∫£ ·∫£nh v√†o ƒë√¢y ho·∫∑c b·∫•m ƒë·ªÉ t·∫£i l√™n",
        colors:"S·ªë m√†u", samples:"S·ªë pixel m·∫´u", extract:"Tr√≠ch xu·∫•t",
        needImg:"Vui l√≤ng t·∫£i ·∫£nh tr∆∞·ªõc.", copyHex:"Sao ch√©p HEX", copyRgb:"Sao ch√©p RGB",
        note:(k,n)=>`M√†u: ${k} ¬∑ M·∫´u: ${n}`},
    bn:{title:"‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶ü ‚Äî ‡¶∞‡¶ô ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® | GoToolOnline",desc:"‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßá ‡¶∞‡¶ô‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶ü ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ HEX/RGB ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶á‡•§",
        back:"‚Üê ‡¶π‡ßã‡¶Æ‡ßá ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®", h1:"‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶ü", drop:"‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶õ‡¶¨‡¶ø ‡¶´‡ßá‡¶≤‡ßá ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®",
        colors:"‡¶∞‡¶ô‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ", samples:"‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶™‡¶ø‡¶ï‡ßç‡¶∏‡ßá‡¶≤", extract:"‡¶è‡¶ï‡ßç‡¶∏‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü",
        needImg:"‡¶Ü‡¶ó‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§", copyHex:"HEX ‡¶ï‡¶™‡¶ø", copyRgb:"RGB ‡¶ï‡¶™‡¶ø",
        note:(k,n)=>`‡¶∞‡¶ô: ${k} ¬∑ ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤: ${n}`},
    ng:{title:"Palette from Image ‚Äî Extract Colors | GoToolOnline",desc:"Upload image pick colors. Copy HEX/RGB. Everything na for browser.",
        back:"‚Üê Back to Home", h1:"Palette from Image", drop:"Drop image here or click to upload",
        colors:"Colors", samples:"Sample pixels", extract:"Extract",
        needImg:"Upload an image first.", copyHex:"Copy HEX", copyRgb:"Copy RGB",
        note:(k,n)=>`Colors: ${k} ¬∑ Samples: ${n}`},
    sw:{title:"Paleti kutoka Picha ‚Äî Dondoa Rangi | GoToolOnline",desc:"Pakia picha kutoa paleti ya rangi. Nakili HEX/RGB. Kila kitu kwenye kivinjari.",
        back:"‚Üê Rudi Nyumbani", h1:"Paleti kutoka Picha", drop:"Vuta picha hapa au bonyeza kupakia",
        colors:"Rangi", samples:"Sampuli za pikseli", extract:"Dondoa",
        needImg:"Pakia picha kwanza.", copyHex:"Nakili HEX", copyRgb:"Nakili RGB",
        note:(k,n)=>`Rangi: ${k} ¬∑ Sampuli: ${n}`},
    ar:{title:"ŸÑŸàÿ≠ÿ© ÿ£ŸÑŸàÿßŸÜ ŸÖŸÜ ÿµŸàÿ±ÿ© ‚Äî ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ£ŸÑŸàÿßŸÜ | GoToolOnline",desc:"ÿßÿ±ŸÅÿπ ÿµŸàÿ±ÿ© ŸÑÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ŸÑŸàÿ≠ÿ© ÿ£ŸÑŸàÿßŸÜ. ÿßŸÜÿ≥ÿÆ HEX/RGB. ŸÉŸÑ ÿ∞ŸÑŸÉ ÿØÿßÿÆŸÑ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠.",
        back:"‚Üê ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸâ ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©", h1:"ŸÑŸàÿ≠ÿ© ÿ£ŸÑŸàÿßŸÜ ŸÖŸÜ ÿµŸàÿ±ÿ©", drop:"ÿ£ÿ≥ŸÇÿ∑ ÿßŸÑÿµŸàÿ±ÿ© ŸáŸÜÿß ÿ£Ÿà ÿßŸÜŸÇÿ± ŸÑŸÑÿ±ŸÅÿπ",
        colors:"ÿπÿØÿØ ÿßŸÑÿ£ŸÑŸàÿßŸÜ", samples:"ÿπÿØÿØ ÿπŸäŸÜÿßÿ™ ÿßŸÑÿ®ŸÉÿ≥ŸÑ", extract:"ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨",
        needImg:"ÿ≠ŸÖŸëŸÑ ÿµŸàÿ±ÿ© ÿ£ŸàŸÑÿßŸã.", copyHex:"ŸÜÿ≥ÿÆ HEX", copyRgb:"ŸÜÿ≥ÿÆ RGB",
        note:(k,n)=>`ÿßŸÑÿ£ŸÑŸàÿßŸÜ: ${k} ¬∑ ÿßŸÑÿπŸäŸÜÿßÿ™: ${n}`}
  };
  const HTML_LANG = {en:'en', zh:'zh-CN', ph:'tl-PH', id:'id-ID', vi:'vi-VN', bn:'bn', ng:'en-NG', sw:'sw', ar:'ar'};
  const $ = s=>document.querySelector(s);
  const qs = new URLSearchParams(location.search);

  function setHomeLinksForLang(lang){
    // Recompute site root like other pages, then append ?lang
    var path = location.pathname.replace(/\/+$/,'');
    var parts = path.split('/');
    if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
    else parts = [''];
    var home = parts.join('/') + '/';
    const u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    document.querySelectorAll('a[data-home]').forEach(a=>a.setAttribute('href', u.pathname+u.search+u.hash));
  }

  function applyLang(lang){
    const t = I18N[lang] || I18N.en;
    document.title = t.title;
    const md = document.querySelector('meta[name="description"]'); if (md) md.setAttribute('content', t.desc);
    document.documentElement.lang = HTML_LANG[lang] || 'en';
    document.documentElement.dir = (lang==='ar') ? 'rtl' : 'ltr';

    // Swap texts
    $('#back').textContent = t.back;
    $('#h1').textContent = t.h1;
    $('#dropTxt').textContent = t.drop;
    $('#run').textContent = t.extract;
    // labels: replace the text node before the input
    const lc = $('#labColors'); lc.firstChild.nodeValue = t.colors + ' ';
    const ls = $('#labSamples'); ls.firstChild.nodeValue = t.samples + ' ';

    // Persist & propagate
    localStorage.setItem('lang', lang);
    qs.set('lang', lang);
    history.replaceState({}, '', location.pathname + '?' + qs.toString());
    setHomeLinksForLang(lang);
  }

  function currentT(){ return I18N[$('#lang').value] || I18N.en; }

  function bootLang(){
    const L = qs.get('lang') || localStorage.getItem('lang') || 'en';
    if (I18N[L]) $('#lang').value = L; else $('#lang').value = 'en';
    applyLang($('#lang').value);
  }

  // ---------- Image load / processing ----------
  const drop = $('#drop'), file = $('#file'), preview = $('#preview'), palette = $('#palette'), note = $('#note');
  let sourceImg = null, imgW = 0, imgH = 0;

  drop.addEventListener('click', ()=> file.click());
  drop.addEventListener('dragover', e=>{ e.preventDefault(); drop.style.borderColor='#4fb3ff'; });
  drop.addEventListener('dragleave', ()=> drop.style.borderColor='#2a3d67');
  drop.addEventListener('drop', e=>{
    e.preventDefault(); drop.style.borderColor='#2a3d67';
    if (e.dataTransfer.files && e.dataTransfer.files[0]) loadFile(e.dataTransfer.files[0]);
  });
  file.addEventListener('change', ()=> { if (file.files[0]) loadFile(file.files[0]); });

  async function loadFile(f){
    const url = URL.createObjectURL(f);
    const img = new Image();
    img.onload = ()=>{
      preview.innerHTML=''; preview.appendChild(img);
      sourceImg = img; imgW = img.naturalWidth || img.width; imgH = img.naturalHeight || img.height;
      note.textContent='';
    };
    img.src = url;
  }

  // Faster sampling: one getImageData for whole image, stride by "step"
  function pickSamples(ctx, w, h, targetCount){
    const data = ctx.getImageData(0,0,w,h).data;
    const step = Math.max(1, Math.floor(Math.sqrt((w*h)/targetCount)));
    const points = [];
    for (let y=0; y<h; y+=step){
      for (let x=0; x<w; x+=step){
        const i = (y*w + x) * 4;
        const a = data[i+3];
        if (a < 200) continue; // skip transparent
        points.push([data[i], data[i+1], data[i+2]]);
      }
    }
    return points;
  }

  function dist(a,b){ const dr=a[0]-b[0], dg=a[1]-b[1], db=a[2]-b[2]; return dr*dr+dg*dg+db*db; }
  function kmeans(points,k,iter=12){
    if (points.length===0) return [];
    const centers = points.slice(0).sort(()=>Math.random()-0.5).slice(0,k);
    for (let t=0;t<iter;t++){
      const buckets = Array.from({length:k},()=>({sum:[0,0,0],n:0}));
      for (const p of points){
        let best=0, bd=Infinity;
        for (let i=0;i<k;i++){ const d=dist(p,centers[i]); if (d<bd){bd=d; best=i;} }
        const b=buckets[best]; b.sum[0]+=p[0]; b.sum[1]+=p[1]; b.sum[2]+=p[2]; b.n++;
      }
      for (let i=0;i<k;i++){ if (buckets[i].n>0) centers[i]=buckets[i].sum.map(x=>Math.round(x/buckets[i].n)); }
    }
    return centers;
  }

  const toHex = ([r,g,b]) => '#'+[r,g,b].map(x=>x.toString(16).padStart(2,'0')).join('').toUpperCase();
  const toRgb = ([r,g,b]) => `rgb(${r}, ${g}, ${b})`;

  $('#run').onclick = async ()=>{
    if (!sourceImg){ note.textContent = currentT().needImg; return; }
    const k = Math.max(2, Math.min(12, +$('#k').value || 6));
    const sampleN = Math.max(500, Math.min(30000, +$('#samples').value || 6000));

    // Canvas (Offscreen if available, else regular)
    let ctx;
    if ('OffscreenCanvas' in window){
      const c = new OffscreenCanvas(imgW, imgH);
      ctx = c.getContext('2d'); ctx.drawImage(sourceImg, 0, 0);
    }else{
      const c = document.createElement('canvas'); c.width = imgW; c.height = imgH;
      ctx = c.getContext('2d'); ctx.drawImage(sourceImg, 0, 0);
    }

    const pts = pickSamples(ctx, imgW, imgH, sampleN);
    const centers = kmeans(pts, k, 14);

    const t = currentT();
    palette.innerHTML = '';
    centers.forEach(color=>{
      const hex = toHex(color), rgb = toRgb(color);
      const div = document.createElement('div'); div.className='sw';
      div.innerHTML = `<div style="height:90px;background:${hex}"></div>
        <div style="padding:8px" class="mono">${hex}<br>${rgb}<br>
          <button class="chip" data-copy="${hex}" data-kind="hex">${t.copyHex}</button>
          <button class="chip" data-copy="${rgb}" data-kind="rgb">${t.copyRgb}</button>
        </div>`;
      palette.appendChild(div);
    });
    palette.querySelectorAll('[data-copy]').forEach(b=>{
      b.onclick = ()=>{
        navigator.clipboard?.writeText(b.dataset.copy||'');
        note.textContent = t.note(k, pts.length); // ‰øùÊåÅÊëòË¶ÅÂ±ïÁ§∫
      };
    });
    note.textContent = t.note(k, pts.length);
  };

  // Lang boot & listener
  bootLang();
  $('#lang').addEventListener('change', e=> applyLang(e.target.value));
</script>

<!-- Keep your common "data-home" resolver and ?lang passthrough -->
<script>
(function(){
  var path = location.pathname.replace(/\/+$/,'');
  var parts = path.split('/');
  if (parts.length >= 3) parts = parts.slice(0, parts.length - 2);
  else parts = [''];
  var home = parts.join('/') + '/';

  var cur = new URL(location.href);
  var lang = cur.searchParams.get('lang');
  if (lang) {
    var u = new URL(home, location.origin);
    u.searchParams.set('lang', lang);
    home = u.pathname + u.search + u.hash;
  }
  document.querySelectorAll('a[data-home]').forEach(function(a){
    a.setAttribute('href', home);
  });
})();
</script>
</body>
</html>
